{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["App"]}},"/api/v1/locations/regions":{"get":{"operationId":"LocationsController_getRegions","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Region"}}}}}},"summary":"Get all regions","tags":["Locations"]}},"/api/v1/locations/countries":{"get":{"operationId":"LocationsController_getCountries","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Country"}}}}}},"summary":"Get all countries","tags":["Locations"]}},"/api/v1/locations/states/{identifier}":{"get":{"operationId":"LocationsController_getStates","parameters":[{"name":"identifier","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/State"}}}}}},"summary":"Get states by country ID or ISO Code","tags":["Locations"]}},"/api/v1/locations/cities/{identifier}":{"get":{"operationId":"LocationsController_getCities","parameters":[{"name":"identifier","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/City"}}}}}},"summary":"Get cities by state ID or ISO Code","tags":["Locations"]}},"/api/v1/auth/register":{"post":{"operationId":"UsersAuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDto"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/login":{"post":{"operationId":"UsersAuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Returns OTP challenge"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/verify-otp":{"post":{"operationId":"UsersAuthController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/forgot-password":{"post":{"operationId":"UsersAuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"201":{"description":""}},"tags":["User Authentication"]}},"/api/v1/auth/reset-password":{"post":{"operationId":"UsersAuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"201":{"description":""}},"tags":["User Authentication"]}},"/api/v1/auth/verify-email/{token}":{"get":{"operationId":"UsersAuthController_verifyEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Email verified successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Invalid or expired verification token"}},"summary":"Verify user email address","tags":["User Authentication"]}},"/api/v1/auth/me":{"get":{"operationId":"UsersAuthController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["User Authentication"]}},"/api/v1/products":{"get":{"operationId":"ProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"12","type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProductsResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Products"]}},"/api/v1/products/{id}":{"get":{"operationId":"ProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Products"]}},"/api/v1/products/mine":{"get":{"operationId":"MyProductsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"post":{"operationId":"MyProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]}},"/api/v1/products/mine/{id}":{"get":{"operationId":"MyProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"patch":{"operationId":"MyProductsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"delete":{"operationId":"MyProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["My Products"]}},"/api/v1/categories":{"get":{"operationId":"CategoriesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get all active categories","tags":["Categories"]}},"/api/v1/categories/{id}":{"get":{"operationId":"CategoriesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a category by ID","tags":["Categories"]}},"/api/v1/transactions":{"post":{"operationId":"TransactionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionDto"}}}},"responses":{"200":{"description":"The created transaction"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Create a transaction (Internal/Admin)","tags":["Transactions"]}},"/api/v1/transactions/order/{orderId}":{"get":{"operationId":"TransactionsController_findByOrderId","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction linked to the order","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by order ID","tags":["Transactions"]}},"/api/v1/transactions/{id}":{"get":{"operationId":"TransactionsController_findById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by ID","tags":["Transactions"]}},"/api/v1/transactions/{id}/status":{"patch":{"operationId":"TransactionsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionStatusDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update transaction status","tags":["Transactions"]}},"/api/v1/transactions/{id}/documents":{"post":{"operationId":"TransactionsController_addDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionDocumentDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a document to the transaction","tags":["Transactions"]}},"/api/v1/transactions/{id}/requirements":{"post":{"operationId":"TransactionsController_addRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionRequirementDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a required document to the transaction","tags":["Transactions"]}},"/api/v1/transactions/{id}/logs":{"get":{"operationId":"TransactionsController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of transaction events"}},"security":[{"bearer":[]}],"summary":"Get transaction audit logs","tags":["Transactions"]}},"/api/v1/orders/purchase":{"post":{"operationId":"OrdersController_purchase","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseProductDto"}}}},"responses":{"200":{"description":"The created order in pending status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Directly purchase a product (creates matched request and order)","tags":["Orders"]}},"/api/v1/orders":{"get":{"operationId":"OrdersController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string","enum":["pending","confirmed","cancelled","in_transaction","completed","disputed"]}},{"name":"role","required":false,"in":"query","description":"Filter by role (buyer or seller)","schema":{"type":"string","enum":["buyer","seller"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedOrdersResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List my orders (as buyer or seller)","tags":["Orders"]}},"/api/v1/orders/{id}":{"get":{"operationId":"OrdersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single order (party only)","tags":["Orders"]},"patch":{"operationId":"OrdersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update order (notes/documents only)","tags":["Orders"]}},"/api/v1/orders/{id}/confirm":{"post":{"operationId":"OrdersController_confirm","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Seller confirms order","tags":["Orders"]}},"/api/v1/orders/{id}/logs":{"get":{"operationId":"OrdersController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of order logs","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"orderId":{"type":"string"},"action":{"type":"string"},"message":{"type":"string"},"performedBy":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"security":[{"bearer":[]}],"summary":"Get order logs","tags":["Orders"]}},"/api/v1/orders/{id}/cancel":{"post":{"operationId":"OrdersController_cancel","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Cancel order (either party, pending only)","tags":["Orders"]}},"/api/v1/requests":{"post":{"operationId":"RequestsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductRequest"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product request","tags":["Requests"]},"get":{"operationId":"RequestsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RequestResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"List my requests","tags":["Requests"]}},"/api/v1/requests/{id}":{"get":{"operationId":"RequestsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single request (Own only)","tags":["Requests"]},"patch":{"operationId":"RequestsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update an existing request (Own only)","tags":["Requests"]}},"/api/v1/onboarding":{"get":{"operationId":"OnboardingController_getOnboardingStatus","parameters":[],"responses":{"200":{"description":"Onboarding status retrieved"}},"security":[{"bearer":[]}],"summary":"Get current onboarding status","tags":["Onboarding"]}},"/api/v1/onboarding/residential":{"put":{"operationId":"OnboardingController_updateResidential","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateResidentialAddressDto"}}}},"responses":{"200":{"description":"Residential address updated"}},"security":[{"bearer":[]}],"summary":"Update residential address","tags":["Onboarding"]}},"/api/v1/onboarding/company-info":{"put":{"operationId":"OnboardingController_updateCompanyInfo","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyInfoDto"}}}},"responses":{"200":{"description":"Company information updated"}},"security":[{"bearer":[]}],"summary":"Update company information","tags":["Onboarding"]}},"/api/v1/onboarding/company-documents":{"put":{"operationId":"OnboardingController_updateCompanyDocuments","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDocumentsDto"}}}},"responses":{"200":{"description":"Company documents updated"}},"security":[{"bearer":[]}],"summary":"Update company documents","tags":["Onboarding"]}},"/api/v1/onboarding/complete":{"post":{"operationId":"OnboardingController_completeOnboarding","parameters":[],"responses":{"200":{"description":"Onboarding completed"},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Complete onboarding","tags":["Onboarding"]}},"/api/v1/admin/products":{"post":{"operationId":"AdminProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product (Admin)","tags":["Admin Products"]}},"/api/v1/admin/products/{id}":{"patch":{"operationId":"AdminProductsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update an existing product (Admin)","tags":["Admin Products"]},"delete":{"operationId":"AdminProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete a product (Admin)","tags":["Admin Products"]}},"/api/v1/admin/auth/login":{"post":{"operationId":"AdminAuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginDto"}}}},"responses":{"200":{"description":"Returns OTP challenge"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Login with email and password to receive OTP","tags":["Admin Authentication"]}},"/api/v1/admin/auth/verify-otp":{"post":{"operationId":"AdminAuthController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpDto"}}}},"responses":{"200":{"description":"Returns access token and user info"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Verify OTP and get access token","tags":["Admin Authentication"]}},"/api/v1/admin/auth/create":{"post":{"operationId":"AdminAuthController_createAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/auth/change-password":{"post":{"operationId":"AdminAuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/auth/me":{"get":{"operationId":"AdminAuthController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/categories":{"post":{"operationId":"AdminCategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new category","tags":["Admin Categories"]}},"/api/v1/admin/categories/{id}":{"patch":{"operationId":"AdminCategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a category","tags":["Admin Categories"]},"delete":{"operationId":"AdminCategoriesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Category deleted successfully"}},"security":[{"bearer":[]}],"summary":"Delete a category","tags":["Admin Categories"]}},"/api/v1/admin/transactions":{"get":{"operationId":"AdminTransactionsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"search","required":false,"in":"query","description":"Search term (Transaction ID or Order ID)","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedTransactionsResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List all transactions (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}":{"get":{"operationId":"AdminTransactionsController_findById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by ID","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/status":{"patch":{"operationId":"AdminTransactionsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionStatusDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update transaction status","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/documents":{"post":{"operationId":"AdminTransactionsController_addDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionDocumentDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a document to the transaction","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/requirements":{"post":{"operationId":"AdminTransactionsController_addRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionRequirementDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a required document to the transaction (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/logs":{"get":{"operationId":"AdminTransactionsController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of transaction events"}},"security":[{"bearer":[]}],"summary":"Get transaction audit logs","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/requirements/{requirementId}":{"patch":{"operationId":"AdminTransactionsController_updateRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"requirementId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionRequirementDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a required document for the transaction (Admin)","tags":["Admin Transactions"]},"delete":{"operationId":"AdminTransactionsController_deleteRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"requirementId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a required document from the transaction (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/requests":{"get":{"operationId":"AdminRequestsController_findAll","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"List all requests (Admin)","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}":{"get":{"operationId":"AdminRequestsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get any request (Admin)","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}/status":{"patch":{"operationId":"AdminRequestsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update request status","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}/accept":{"post":{"operationId":"AdminRequestsController_acceptRequest","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptRequestOrderDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Accept request and create order (Admin)","tags":["Admin Requests"]}},"/api/v1/organizations/{orgId}/products":{"get":{"operationId":"OrgProductsController_findAll","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"post":{"operationId":"OrgProductsController_create","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]}},"/api/v1/organizations/{orgId}/products/{productId}":{"get":{"operationId":"OrgProductsController_findOne","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"patch":{"operationId":"OrgProductsController_update","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"delete":{"operationId":"OrgProductsController_remove","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]}},"/api/v1/storage/presigned-urls":{"post":{"operationId":"StorageController_generatePresignedUrls","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratePresignedUrlsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresignedUrlResponseDto"}}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresignedUrlResponseDto"}}}}}},"tags":["Storage"]}}},"info":{"title":"Vesslr API","description":"VESSLR API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Region":{"type":"object","properties":{}},"Country":{"type":"object","properties":{}},"State":{"type":"object","properties":{}},"City":{"type":"object","properties":{}},"AddressDto":{"type":"object","properties":{"state":{"type":"string"},"country":{"type":"string"}},"required":["state","country"]},"RegisterOrganizationDto":{"type":"object","properties":{"name":{"type":"string","description":"The legal name of the organization"},"address":{"description":"Structured address with state and country","allOf":[{"$ref":"#/components/schemas/AddressDto"}]}},"required":["name","address"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"User's email address (used for login)","format":"email"},"password":{"type":"string","description":"Password (minimum 8 characters)","minLength":8},"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"phone":{"type":"string","description":"User's phone number"},"organization":{"description":"Organization details for the user","allOf":[{"$ref":"#/components/schemas/RegisterOrganizationDto"}]}},"required":["email","password","firstName","lastName","phone","organization"]},"AuthTokenResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token"}},"required":["accessToken"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User's email address","format":"email"},"password":{"type":"string","description":"User's password"}},"required":["email","password"]},"VerifyOtpDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp":{"type":"string","minLength":6,"maxLength":6}},"required":["email","otp"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"Email to send the password reset link to","format":"email"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string","description":"Reset token received via email"},"password":{"type":"string","description":"New password","minLength":8}},"required":["token","password"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Human-readable message"}},"required":["message"]},"CategoryGroupDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"ProductCategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"type":{"type":"string","enum":["product","service"]},"group":{"$ref":"#/components/schemas/CategoryGroupDto"}},"required":["_id","name"]},"ProductOrganizationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"StateDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"RegionDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"CountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"PopulatedProductLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/StateDto"},"region":{"$ref":"#/components/schemas/RegionDto"},"country":{"$ref":"#/components/schemas/CountryDto"},"address":{"type":"string"}}},"PopulatedProductResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"displayId":{"type":"number","description":"Display ID"},"title":{"type":"string"},"description":{"type":"string"},"category":{"$ref":"#/components/schemas/ProductCategoryDto"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["new","used"]}},"organization":{"$ref":"#/components/schemas/ProductOrganizationDto"},"location":{"$ref":"#/components/schemas/PopulatedProductLocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"isActive":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}}},"required":["_id","displayId","title","pricePerUnit"]},"ProductsPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedProductsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductsPaginationDataDto"}},"required":["message","data"]},"ProductLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/StateDto"},"region":{"$ref":"#/components/schemas/RegionDto"},"country":{"$ref":"#/components/schemas/CountryDto"},"address":{"type":"string"}}},"ProductResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"displayId":{"type":"number","description":"Display ID"},"title":{"type":"string"},"description":{"type":"string"},"category":{"$ref":"#/components/schemas/ProductCategoryDto"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["new","used"]}},"organization":{"$ref":"#/components/schemas/ProductOrganizationDto"},"location":{"$ref":"#/components/schemas/ProductLocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"isActive":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}}},"required":["_id","displayId","title","pricePerUnit"]},"LocationDto":{"type":"object","properties":{"state":{"type":"string"},"region":{"type":"string"},"country":{"type":"string"},"address":{"type":"string"}}},"CreateProductDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"organization":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"isActive":{"type":"boolean"}},"required":["title","description","category","pricePerUnit"]},"UpdateProductDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"organization":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"isActive":{"type":"boolean"}}},"CategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"type":{"type":"string"},"description":{"type":"string"},"group":{"$ref":"#/components/schemas/CategoryGroupDto"},"isActive":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","name","slug","group","isActive","createdAt","updatedAt"]},"CreateTransactionDto":{"type":"object","properties":{"orderId":{"type":"string","description":"ID of the confirmed order to create a transaction for","example":"60d0fe4f5311236168a109ca"}},"required":["orderId"]},"OrderOrganizationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"OrderRegionDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"OrderBuyerDto":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}},"required":["_id","firstName","lastName","email"]},"OrderRequestDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"displayId":{"type":"number"},"status":{"type":"string"},"region":{"type":"array","items":{"$ref":"#/components/schemas/OrderRegionDto"}},"targetPricePerUnit":{"type":"number"},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"requester":{"$ref":"#/components/schemas/OrderBuyerDto"}},"required":["_id","name"]},"OrderProductDto":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"pricePerUnit":{"type":"number"},"images":{"type":"array","items":{"type":"string"}}},"required":["_id","title"]},"OrderDocumentDto":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"}},"required":["name","url"]},"OrderStateDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"OrderCountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"OrderLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/OrderStateDto"},"region":{"$ref":"#/components/schemas/OrderRegionDto"},"country":{"$ref":"#/components/schemas/OrderCountryDto"},"address":{"type":"string"}}},"OrderResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"sellerOrganization":{"$ref":"#/components/schemas/OrderOrganizationDto"},"buyerOrganization":{"$ref":"#/components/schemas/OrderOrganizationDto"},"request":{"$ref":"#/components/schemas/OrderRequestDto"},"product":{"$ref":"#/components/schemas/OrderProductDto"},"transactionType":{"type":"string"},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"totalAmount":{"type":"number"},"condition":{"type":"string"},"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"sellerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"notes":{"type":"string"},"location":{"$ref":"#/components/schemas/OrderLocationDto"},"status":{"type":"string"},"displayId":{"type":"number"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["_id","request","transactionType","quantity","unitOfMeasurement","pricePerUnit","currency","totalAmount","status","displayId","createdAt","updatedAt"]},"TransactionEventDto":{"type":"object","properties":{"timestamp":{"format":"date-time","type":"string"},"actor":{"type":"string"},"action":{"enum":["CREATED","STATUS_CHANGE","DOCUMENT_UPLOADED","LOGISTICS_UPDATE","NOTE_ADDED","REQUIREMENT_ADDED","REQUIREMENT_UPDATED","REQUIREMENT_DELETED"],"type":"string"},"metadata":{"type":"object"}},"required":["timestamp","action"]},"TransactionDocumentFileDto":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"},"uploader":{"type":"string"},"timestamp":{"format":"date-time","type":"string"}},"required":["name","url","timestamp"]},"TransactionDocumentSlotDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","OTHER"],"type":"string"},"name":{"type":"string"},"requiredFrom":{"type":"string","enum":["BUYER","SELLER"]},"isMandatory":{"type":"boolean"},"submission":{"$ref":"#/components/schemas/TransactionDocumentFileDto"},"status":{"enum":["PENDING","SUBMITTED","APPROVED","REJECTED"],"type":"string"}},"required":["type","name","requiredFrom","isMandatory","status"]},"TransactionTaskDto":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"object"},"title":{"type":"string"},"description":{"type":"string"},"assignedTo":{"type":"object"},"action":{"type":"object","properties":{"type":{"type":"object"},"target":{"type":"string"}},"required":["type","target"]}},"required":["id","type","title","description","assignedTo"]},"TransactionResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"order":{"$ref":"#/components/schemas/OrderResponseDto"},"displayId":{"type":"number"},"status":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEW","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string"},"events":{"type":"array","items":{"$ref":"#/components/schemas/TransactionEventDto"}},"requiredDocuments":{"type":"array","items":{"$ref":"#/components/schemas/TransactionDocumentSlotDto"}},"documents":{"type":"object","description":"Documents grouped by stage"},"escrow":{"type":"string"},"assignedLogistics":{"type":"object"},"pendingTasks":{"type":"array","items":{"$ref":"#/components/schemas/TransactionTaskDto"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","order","displayId","status","events","createdAt","updatedAt"]},"UpdateTransactionStatusDto":{"type":"object","properties":{"status":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEW","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string","description":"The new status to transition to"},"reason":{"type":"string","description":"Reason for the status change (optional)"}},"required":["status"]},"AddTransactionDocumentDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","OTHER"],"type":"string","description":"The type of document being uploaded"},"name":{"type":"string","description":"Display name of the document","example":"Bill of Lading"},"url":{"type":"string","format":"uri","description":"URL of the uploaded document","example":"https://s3.aws.com/bucket/file.pdf"}},"required":["type","name","url"]},"AddTransactionRequirementDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","OTHER"],"type":"string","description":"The type of document required"},"name":{"type":"string","description":"Display name of the requirement","example":"Custom Invoice"},"requiredFrom":{"type":"string","description":"Who is required to submit this document","enum":["BUYER","SELLER"],"example":"SELLER"},"isMandatory":{"type":"boolean","description":"Whether this document is mandatory for the transaction to proceed","example":true}},"required":["type","name","requiredFrom","isMandatory"]},"PurchaseProductDto":{"type":"object","properties":{"productId":{"type":"string","description":"ID of the product to purchase"},"quantity":{"type":"number","minimum":1,"description":"Quantity to purchase"},"unitOfMeasurement":{"type":"string","description":"Unit of measurement"},"notes":{"type":"string","description":"Optional buyer notes"},"transactionType":{"type":"string","description":"Selected transaction type"},"condition":{"type":"string","description":"Selected product condition"},"location":{"type":"object","description":"Optional location override for the order","properties":{"state":{"type":"string"},"region":{"type":"string"},"country":{"type":"string"},"address":{"type":"string"}}},"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}}},"required":["productId","quantity","unitOfMeasurement","transactionType","condition"]},"OrdersPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedOrdersResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrdersPaginationDataDto"}},"required":["message","data"]},"UpdateOrderDto":{"type":"object","properties":{"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"sellerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"notes":{"type":"string"}}},"CreateRequestDto":{"type":"object","properties":{"category":{"type":"string","description":"ID of the category"},"name":{"type":"string"},"quantity":{"type":"number","minimum":1},"region":{"type":"array","items":{"type":"string"}},"country":{"type":"array","items":{"type":"string"}},"state":{"type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"transactionType":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"description":"List of transaction types"},"condition":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"description":"List of product conditions"},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"enum":["open","jira-ai","direct"],"type":"string","default":"open"}},"required":["category","name","quantity","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType"]},"ProductRequest":{"type":"object","properties":{"requester":{"type":"string","description":"User who created the request"},"organization":{"type":"string","description":"Organization of the requester"},"category":{"type":"string","description":"Category of the product"},"name":{"type":"string","description":"Name of the product/request"},"quantity":{"type":"number","description":"Quantity required"},"region":{"description":"List of region IDs","type":"array","items":{"type":"string"}},"country":{"description":"List of country IDs","type":"array","items":{"type":"string"}},"state":{"description":"List of state IDs","type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string","description":"Unit of measurement"},"targetPricePerUnit":{"type":"number","description":"Target price per unit"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"],"description":"Currency code"},"transactionType":{"type":"array","description":"Transaction types","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"condition":{"type":"array","description":"Conditions of the product","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"description":{"type":"string","description":"Description of the request"},"documents":{"default":[],"description":"List of document URLs","type":"array","items":{"type":"string"}},"selectionMode":{"type":"string","enum":["open","jira-ai","direct"],"default":"open","description":"Selection mode"},"status":{"type":"string","enum":["pending","in_review","matched","fulfilled","cancelled"],"default":"pending","description":"Status of the request"},"displayId":{"type":"number","description":"Display ID","uniqueItems":true}},"required":["requester","organization","category","name","quantity","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType","description","documents","selectionMode","status","displayId"]},"RequesterDto":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}},"required":["_id","firstName","lastName","email"]},"RequestCountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"},"region":{"type":"string"}},"required":["_id","name","iso2","region"]},"RequestResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"quantity":{"type":"number"},"category":{"$ref":"#/components/schemas/CategoryDto"},"requester":{"$ref":"#/components/schemas/RequesterDto"},"region":{"type":"array","items":{"$ref":"#/components/schemas/RegionDto"}},"country":{"type":"array","items":{"$ref":"#/components/schemas/RequestCountryDto"}},"state":{"type":"array","items":{"$ref":"#/components/schemas/StateDto"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"]},"transactionType":{"type":"array","items":{"type":"string"}},"condition":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"type":"string"},"organization":{"type":"string"},"displayId":{"type":"number"},"status":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["_id","name","quantity","category","requester","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType","documents","selectionMode","organization","displayId","status","createdAt","updatedAt"]},"UpdateRequestDto":{"type":"object","properties":{"category":{"type":"string","description":"ID of the category"},"name":{"type":"string"},"quantity":{"type":"number","minimum":1},"region":{"type":"array","items":{"type":"string"}},"country":{"type":"array","items":{"type":"string"}},"state":{"type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"transactionType":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"description":"List of transaction types"},"condition":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"description":"List of product conditions"},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"enum":["open","jira-ai","direct"],"type":"string","default":"open"},"status":{"enum":["pending","in_review","matched","fulfilled","cancelled"],"type":"string"}}},"UpdateResidentialAddressDto":{"type":"object","properties":{"state":{"type":"string"},"country":{"type":"string"}},"required":["state","country"]},"UpdateCompanyInfoDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"address":{"type":"string"}},"required":["name","address"]},"UpdateCompanyDocumentsDto":{"type":"object","properties":{"rcNumber":{"type":"string"},"taxId":{"type":"string"},"proofOfResidenceFile":{"type":"string"},"certificateOfIncorporation":{"type":"string"},"memorandum":{"type":"string"},"additionalDocuments":{"type":"string"}},"required":["rcNumber"]},"AdminLoginDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin's email address","format":"email"},"password":{"type":"string","description":"Admin's password","minLength":6}},"required":["email","password"]},"CreateAdminDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin's email address","format":"email"},"password":{"type":"string","description":"Initial password (users should change this later)","minLength":8},"name":{"type":"string","description":"Full name of the admin"},"role":{"type":"string","description":"Role assigned to the admin (e.g. 'super-admin', 'support')"},"department":{"type":"string","description":"Department the admin belongs to"},"permissions":{"description":"List of permissions granted to the admin","type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","description":"Whether the admin account is active"}},"required":["email","password","name","role"]},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","description":"Current password for verification"},"newPassword":{"type":"string","description":"New password (min 8 chars)","minLength":8}},"required":["currentPassword","newPassword"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","example":"Electronics","description":"The name of the category"},"slug":{"type":"string","example":"electronics","description":"URL-friendly slug"},"description":{"type":"string","example":"All electronic devices","description":"Description of the category"},"isActive":{"type":"boolean","example":true,"description":"Whether the category is active","default":true}},"required":["name"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","example":"Electronics","description":"The name of the category"},"slug":{"type":"string","example":"electronics","description":"URL-friendly slug"},"description":{"type":"string","example":"All electronic devices","description":"Description of the category"},"isActive":{"type":"boolean","example":true,"description":"Whether the category is active","default":true}}},"PaginatedDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponseDto"}},"totalDocs":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"},"page":{"type":"number"}},"required":["docs","totalDocs","limit","totalPages","page"]},"PaginatedTransactionsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedDataDto"}},"required":["message","data"]},"UpdateTransactionRequirementDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","OTHER"],"type":"string","description":"The type of document required"},"name":{"type":"string","description":"Display name of the requirement","example":"Custom Invoice"},"requiredFrom":{"type":"string","description":"Who is required to submit this document","enum":["BUYER","SELLER"],"example":"SELLER"},"isMandatory":{"type":"boolean","description":"Whether this document is mandatory for the transaction to proceed","example":true}}},"AcceptRequestOrderDto":{"type":"object","properties":{"sellerOrganization":{"type":"string","description":"Seller organization ID"},"product":{"type":"string","description":"Matched product ID"},"transactionType":{"enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"],"type":"string"},"quantity":{"type":"number","minimum":1},"unitOfMeasurement":{"type":"string"},"pricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"condition":{"enum":["New","Used - Good","Used - Fair","Refurbished"],"type":"string"},"notes":{"type":"string"}},"required":["sellerOrganization","transactionType","quantity","unitOfMeasurement","pricePerUnit","currency"]},"GeneratePresignedUrlDto":{"type":"object","properties":{"filename":{"type":"string"},"contentType":{"type":"string"}},"required":["filename","contentType"]},"GeneratePresignedUrlsDto":{"type":"object","properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/GeneratePresignedUrlDto"}}},"required":["files"]},"PresignedUrlResponseDto":{"type":"object","properties":{"key":{"type":"string"},"url":{"type":"string","format":"uri"},"publicUrl":{"type":"string","format":"uri"},"filename":{"type":"string"}},"required":["key","url","publicUrl","filename"]}}}}