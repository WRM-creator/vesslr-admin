{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["App"]}},"/api/v1/locations/regions":{"get":{"operationId":"LocationsController_getRegions","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Region"}}}}}},"summary":"Get all regions","tags":["Locations"]}},"/api/v1/locations/countries":{"get":{"operationId":"LocationsController_getCountries","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Country"}}}}}},"summary":"Get all countries","tags":["Locations"]}},"/api/v1/locations/states/{identifier}":{"get":{"operationId":"LocationsController_getStates","parameters":[{"name":"identifier","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/State"}}}}}},"summary":"Get states by country ID or ISO Code","tags":["Locations"]}},"/api/v1/locations/cities/{identifier}":{"get":{"operationId":"LocationsController_getCities","parameters":[{"name":"identifier","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/City"}}}}}},"summary":"Get cities by state ID or ISO Code","tags":["Locations"]}},"/api/v1/auth/register":{"post":{"operationId":"UsersAuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDto"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/login":{"post":{"operationId":"UsersAuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Returns OTP challenge"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/verify-otp":{"post":{"operationId":"UsersAuthController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserVerifyOtpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User Authentication"]}},"/api/v1/auth/forgot-password":{"post":{"operationId":"UsersAuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"201":{"description":""}},"tags":["User Authentication"]}},"/api/v1/auth/reset-password":{"post":{"operationId":"UsersAuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"201":{"description":""}},"tags":["User Authentication"]}},"/api/v1/auth/verify-email/{token}":{"get":{"operationId":"UsersAuthController_verifyEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Email verified successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Invalid or expired verification token"}},"summary":"Verify user email address","tags":["User Authentication"]}},"/api/v1/auth/me":{"get":{"operationId":"UsersAuthController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["User Authentication"]}},"/api/v1/products":{"get":{"operationId":"ProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"12","type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProductsResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Products"]}},"/api/v1/products/{id}":{"get":{"operationId":"ProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Products"]}},"/api/v1/products/mine":{"get":{"operationId":"MyProductsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"post":{"operationId":"MyProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]}},"/api/v1/products/mine/{id}":{"get":{"operationId":"MyProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"patch":{"operationId":"MyProductsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["My Products"]},"delete":{"operationId":"MyProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["My Products"]}},"/api/v1/categories":{"get":{"operationId":"CategoriesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get all active categories","tags":["Categories"]}},"/api/v1/categories/{id}":{"get":{"operationId":"CategoriesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a category by ID","tags":["Categories"]}},"/api/v1/transactions":{"post":{"operationId":"TransactionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionDto"}}}},"responses":{"200":{"description":"The created transaction"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Create a transaction (Internal/Admin)","tags":["Transactions"]}},"/api/v1/transactions/order/{orderId}":{"get":{"operationId":"TransactionsController_findByOrderId","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction linked to the order","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by order ID","tags":["Transactions"]}},"/api/v1/transactions/{id}":{"get":{"operationId":"TransactionsController_findById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by ID","tags":["Transactions"]}},"/api/v1/transactions/{id}/status":{"patch":{"operationId":"TransactionsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionStatusDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update transaction status","tags":["Transactions"]}},"/api/v1/transactions/{id}/documents":{"post":{"operationId":"TransactionsController_addDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionDocumentDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a document to the transaction","tags":["Transactions"]}},"/api/v1/transactions/{id}/contract":{"get":{"operationId":"TransactionsController_downloadContract","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction contract PDF"}},"security":[{"bearer":[]}],"summary":"Download transaction contract","tags":["Transactions"]}},"/api/v1/transactions/{id}/logs":{"get":{"operationId":"TransactionsController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of transaction events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionEventDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get transaction audit logs","tags":["Transactions"]}},"/api/v1/transactions/{id}/assign-logistics":{"post":{"operationId":"TransactionsController_assignLogistics","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignLogisticsDto"}}}},"responses":{"200":{"description":"Logistics assigned successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Assign logistics to a transaction","tags":["Transactions"]}},"/api/v1/transactions/{id}/fund-escrow":{"post":{"description":"WARNING: This is a mock endpoint for testing purposes only. Do not use in production.","operationId":"TransactionsController_fundEscrow","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"MOCK: Fund the escrow account (Transitions to ESCROW_FUNDED)","tags":["Transactions"]}},"/api/v1/transactions/{id}/confirm-delivery":{"post":{"description":"WARNING: This is a mock endpoint for testing purposes only. In the future, this will be triggered by AIS monitoring.","operationId":"TransactionsController_confirmDelivery","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"MOCK: Confirm delivery (Transitions to DELIVERY_CONFIRMED)","tags":["Transactions"]}},"/api/v1/orders/purchase":{"post":{"operationId":"OrdersController_purchase","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseProductDto"}}}},"responses":{"200":{"description":"The created order in pending status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Directly purchase a product (creates matched request and order)","tags":["Orders"]}},"/api/v1/orders":{"get":{"operationId":"OrdersController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string","enum":["pending","confirmed","cancelled","in_transaction","completed","disputed"]}},{"name":"role","required":false,"in":"query","description":"Filter by role (buyer or seller)","schema":{"type":"string","enum":["buyer","seller"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedOrdersResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List my orders (as buyer or seller)","tags":["Orders"]}},"/api/v1/orders/{id}":{"get":{"operationId":"OrdersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single order (party only)","tags":["Orders"]},"patch":{"operationId":"OrdersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update order (notes/documents only)","tags":["Orders"]}},"/api/v1/orders/{id}/confirm":{"post":{"operationId":"OrdersController_confirm","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Seller confirms order","tags":["Orders"]}},"/api/v1/orders/{id}/logs":{"get":{"operationId":"OrdersController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of order logs","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"orderId":{"type":"string"},"action":{"type":"string"},"message":{"type":"string"},"performedBy":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"security":[{"bearer":[]}],"summary":"Get order logs","tags":["Orders"]}},"/api/v1/orders/{id}/cancel":{"post":{"operationId":"OrdersController_cancel","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Cancel order (either party, pending only)","tags":["Orders"]}},"/api/v1/requests":{"post":{"operationId":"RequestsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductRequest"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product request","tags":["Requests"]},"get":{"operationId":"RequestsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RequestResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"List my requests","tags":["Requests"]}},"/api/v1/requests/feed":{"get":{"operationId":"RequestsController_findFeed","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sort order","schema":{"default":"newest","type":"string","enum":["newest","oldest"]}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"array","items":{"type":"string","enum":["pending","in_review","matched","fulfilled","cancelled"]}}}],"responses":{"200":{"description":"List of available requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationFeedResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List available requests in categories this merchant services","tags":["Requests"]}},"/api/v1/requests/feed/{id}":{"get":{"operationId":"RequestsController_findOneFeed","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Single available request details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleRecommendationFeedResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single available request (Merchant)","tags":["Requests"]}},"/api/v1/requests/{id}":{"get":{"operationId":"RequestsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single request (Own only)","tags":["Requests"]},"patch":{"operationId":"RequestsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update an existing request (Own only)","tags":["Requests"]}},"/api/v1/negotiations":{"post":{"operationId":"NegotiationsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNegotiationDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a negotiation (seller submits initial offer)","tags":["Negotiations"]},"get":{"operationId":"NegotiationsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string","enum":["active","pending_buyer_review","accepted","rejected","expired"]}},{"name":"role","required":false,"in":"query","description":"Filter by role (buyer or seller)","schema":{"type":"string","enum":["buyer","seller"]}},{"name":"requestId","required":false,"in":"query","description":"Filter by request ID","schema":{"type":"string"}},{"name":"responseType","required":false,"in":"query","description":"Filter by response type","schema":{"type":"string","enum":["accept","counter_offer"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedNegotiationsResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List negotiations for current user's organization","tags":["Negotiations"]}},"/api/v1/negotiations/{id}":{"get":{"operationId":"NegotiationsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a single negotiation with full thread","tags":["Negotiations"]}},"/api/v1/negotiations/{id}/counter":{"post":{"operationId":"NegotiationsController_counterOffer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CounterOfferDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Submit a counter-offer","tags":["Negotiations"]}},"/api/v1/negotiations/{id}/messages":{"post":{"operationId":"NegotiationsController_sendMessage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Send a text message in the negotiation thread","tags":["Negotiations"]}},"/api/v1/negotiations/{id}/accept":{"post":{"operationId":"NegotiationsController_accept","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Accept the latest offer (Moves to buyer review)","tags":["Negotiations"]}},"/api/v1/negotiations/{id}/confirm":{"post":{"operationId":"NegotiationsController_confirm","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Confirm the negotiation (Creates an Order)","tags":["Negotiations"]}},"/api/v1/negotiations/{id}/reject":{"post":{"operationId":"NegotiationsController_reject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegotiationResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Reject the negotiation","tags":["Negotiations"]}},"/api/v1/onboarding":{"get":{"operationId":"OnboardingController_getOnboardingStatus","parameters":[],"responses":{"200":{"description":"Onboarding status retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current onboarding status","tags":["Onboarding"]}},"/api/v1/onboarding/residential":{"put":{"operationId":"OnboardingController_updateResidential","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateResidentialAddressDto"}}}},"responses":{"200":{"description":"Residential address updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update residential address","tags":["Onboarding"]}},"/api/v1/onboarding/company-info":{"put":{"operationId":"OnboardingController_updateCompanyInfo","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyInfoDto"}}}},"responses":{"200":{"description":"Company information updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update company information","tags":["Onboarding"]}},"/api/v1/onboarding/product-categories":{"put":{"operationId":"OnboardingController_updateProductCategories","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductCategoriesDto"}}}},"responses":{"200":{"description":"Product categories updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update product categories","tags":["Onboarding"]}},"/api/v1/onboarding/company-documents":{"put":{"operationId":"OnboardingController_updateCompanyDocuments","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDocumentsDto"}}}},"responses":{"200":{"description":"Company documents updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update company documents","tags":["Onboarding"]}},"/api/v1/onboarding/complete":{"post":{"operationId":"OnboardingController_completeOnboarding","parameters":[],"responses":{"200":{"description":"Onboarding completed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatusResponseDto"}}}},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Complete onboarding","tags":["Onboarding"]}},"/api/v1/admin/products":{"post":{"operationId":"AdminProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product (Admin)","tags":["Admin Products"]},"get":{"operationId":"AdminProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string"}},{"name":"category","required":false,"in":"query","schema":{"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}},{"name":"merchant","required":false,"in":"query","schema":{"type":"string"}},{"name":"transactionType","required":false,"in":"query","schema":{"type":"string"}},{"name":"price[gte]","required":false,"in":"query","schema":{"type":"string"}},{"name":"price[lte]","required":false,"in":"query","schema":{"type":"string"}},{"name":"created[gte]","required":false,"in":"query","schema":{"type":"string"}},{"name":"created[lte]","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"List all products (Admin)","tags":["Admin Products"]}},"/api/v1/admin/products/{id}":{"patch":{"operationId":"AdminProductsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update an existing product (Admin)","tags":["Admin Products"]},"delete":{"operationId":"AdminProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete a product (Admin)","tags":["Admin Products"]},"get":{"operationId":"AdminProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a product by ID (Admin)","tags":["Admin Products"]}},"/api/v1/admin/auth/login":{"post":{"operationId":"AdminAuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginDto"}}}},"responses":{"200":{"description":"Returns OTP challenge"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Login with email and password to receive OTP","tags":["Admin Authentication"]}},"/api/v1/admin/auth/verify-otp":{"post":{"operationId":"AdminAuthController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminVerifyOtpDto"}}}},"responses":{"200":{"description":"Returns access token and user info"},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Verify OTP and get access token","tags":["Admin Authentication"]}},"/api/v1/admin/auth/create":{"post":{"operationId":"AdminAuthController_createAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/auth/change-password":{"post":{"operationId":"AdminAuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/auth/me":{"get":{"operationId":"AdminAuthController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Admin Authentication"]}},"/api/v1/admin/categories":{"get":{"operationId":"AdminCategoriesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}},"security":[{"bearer":[]}],"summary":"List all categories (Admin)","tags":["Admin Categories"]},"post":{"operationId":"AdminCategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new category","tags":["Admin Categories"]}},"/api/v1/admin/categories/{id}":{"get":{"operationId":"AdminCategoriesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Get a category by ID (Admin)","tags":["Admin Categories"]},"patch":{"operationId":"AdminCategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a category","tags":["Admin Categories"]},"delete":{"operationId":"AdminCategoriesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Category deleted successfully"}},"security":[{"bearer":[]}],"summary":"Delete a category","tags":["Admin Categories"]}},"/api/v1/admin/transactions":{"get":{"operationId":"AdminTransactionsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":"10","type":"string"}},{"name":"search","required":false,"in":"query","description":"Search term (Transaction ID or Order ID)","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedTransactionsResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List all transactions (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}":{"get":{"operationId":"AdminTransactionsController_findById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get transaction by ID","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/status":{"patch":{"operationId":"AdminTransactionsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionStatusDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update transaction status","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/documents":{"post":{"operationId":"AdminTransactionsController_addDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionDocumentDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a document to the transaction","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/requirements":{"post":{"operationId":"AdminTransactionsController_addRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTransactionRequirementDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Add a required document to the transaction (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/logs":{"get":{"operationId":"AdminTransactionsController_getLogs","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of transaction events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionEventDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get transaction audit logs","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/requirements/{requirementId}":{"patch":{"operationId":"AdminTransactionsController_updateRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"requirementId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransactionRequirementDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a required document for the transaction (Admin)","tags":["Admin Transactions"]},"delete":{"operationId":"AdminTransactionsController_deleteRequirement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"requirementId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a required document from the transaction (Admin)","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/requirements/{requirementId}/review":{"patch":{"operationId":"AdminTransactionsController_reviewDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"requirementId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewTransactionDocumentDto"}}}},"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Approve or reject a submitted document","tags":["Admin Transactions"]}},"/api/v1/admin/transactions/{id}/release-settlement":{"post":{"operationId":"AdminTransactionsController_releaseSettlement","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The updated transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"MOCK: Release settlement funds (DELIVERY_CONFIRMED â†’ CLOSED)","tags":["Admin Transactions"]}},"/api/v1/admin/organizations":{"get":{"operationId":"AdminOrganizationsController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","schema":{"type":"string"}},{"name":"search","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Organizations list"}},"security":[{"bearer":[]}],"summary":"List all organizations (Admin)","tags":["Admin Organizations"]}},"/api/v1/admin/requests":{"get":{"operationId":"AdminRequestsController_findAll","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"List all requests (Admin)","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}":{"get":{"operationId":"AdminRequestsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get any request (Admin)","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}/status":{"patch":{"operationId":"AdminRequestsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update request status","tags":["Admin Requests"]}},"/api/v1/admin/requests/{id}/accept":{"post":{"operationId":"AdminRequestsController_acceptRequest","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptRequestOrderDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"summary":"Accept request and create order (Admin)","tags":["Admin Requests"]}},"/api/v1/admin/negotiations":{"get":{"operationId":"AdminNegotiationsController_findAll","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"List all negotiations (Admin)","tags":["Admin Negotiations"]}},"/api/v1/admin/negotiations/{id}":{"get":{"operationId":"AdminNegotiationsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get any negotiation (Admin)","tags":["Admin Negotiations"]}},"/api/v1/admin/negotiations/{id}/status":{"patch":{"operationId":"AdminNegotiationsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update negotiation status (Admin override)","tags":["Admin Negotiations"]}},"/api/v1/notifications":{"get":{"operationId":"NotificationsController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":"1","type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"default":"20","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedNotificationsResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List notifications for the current user","tags":["Notifications"]}},"/api/v1/notifications/unread-count":{"get":{"operationId":"NotificationsController_getUnreadCount","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get unread notification count for the current user","tags":["Notifications"]}},"/api/v1/notifications/{id}/read":{"patch":{"operationId":"NotificationsController_markAsRead","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Mark a single notification as read","tags":["Notifications"]}},"/api/v1/notifications/read-all":{"post":{"operationId":"NotificationsController_markAllAsRead","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Mark all notifications as read","tags":["Notifications"]}},"/api/v1/organizations/{orgId}/products":{"get":{"operationId":"OrgProductsController_findAll","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"post":{"operationId":"OrgProductsController_create","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]}},"/api/v1/organizations/{orgId}/products/{productId}":{"get":{"operationId":"OrgProductsController_findOne","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"patch":{"operationId":"OrgProductsController_update","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]},"delete":{"operationId":"OrgProductsController_remove","parameters":[{"name":"orgId","required":true,"in":"path","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"bearer":[]}],"tags":["Organization Products"]}},"/api/v1/storage/presigned-urls":{"post":{"operationId":"StorageController_generatePresignedUrls","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratePresignedUrlsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresignedUrlResponseDto"}}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresignedUrlResponseDto"}}}}}},"tags":["Storage"]}}},"info":{"title":"Vesslr API","description":"VESSLR API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Region":{"type":"object","properties":{}},"Country":{"type":"object","properties":{}},"State":{"type":"object","properties":{}},"City":{"type":"object","properties":{}},"AddressDto":{"type":"object","properties":{"state":{"type":"string"},"country":{"type":"string"}},"required":["state","country"]},"RegisterOrganizationDto":{"type":"object","properties":{"name":{"type":"string","description":"The legal name of the organization"},"type":{"type":"string","description":"Organization type (merchant or customer)","enum":["merchant","customer"]},"address":{"description":"Structured address with state and country","allOf":[{"$ref":"#/components/schemas/AddressDto"}]}},"required":["name","address"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"User's email address (used for login)","format":"email"},"password":{"type":"string","description":"Password (minimum 8 characters)","minLength":8},"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"phone":{"type":"string","description":"User's phone number"},"organization":{"description":"Organization details for the user","allOf":[{"$ref":"#/components/schemas/RegisterOrganizationDto"}]}},"required":["email","password","firstName","lastName","phone","organization"]},"AuthTokenResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token"}},"required":["accessToken"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User's email address","format":"email"},"password":{"type":"string","description":"User's password"}},"required":["email","password"]},"UserVerifyOtpDto":{"type":"object","properties":{"email":{"type":"string","format":"email","example":"user@example.com"},"otp":{"type":"string","minLength":6,"maxLength":6,"example":"123456","description":"6-digit OTP code"}},"required":["email","otp"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"Email to send the password reset link to","format":"email"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string","description":"Reset token received via email"},"password":{"type":"string","description":"New password","minLength":8}},"required":["token","password"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Human-readable message"}},"required":["message"]},"PopulatedLocationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name"]},"ResidentialAddressDto":{"type":"object","properties":{"houseNumber":{"type":"string"},"streetAddress":{"type":"string"},"city":{"$ref":"#/components/schemas/PopulatedLocationDto"},"state":{"$ref":"#/components/schemas/PopulatedLocationDto"},"country":{"$ref":"#/components/schemas/PopulatedLocationDto"},"postalCode":{"type":"string"}}},"FileMetadataResponseDto":{"type":"object","properties":{"url":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"size":{"type":"number"}},"required":["url"]},"OnboardingCategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"OrganizationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"type":{"type":"string"},"address":{"$ref":"#/components/schemas/ResidentialAddressDto"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"rcNumber":{"type":"string"},"taxId":{"type":"string"},"proofOfResidenceFile":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataResponseDto"}]},"certificateOfIncorporation":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataResponseDto"}]},"memorandum":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataResponseDto"}]},"additionalDocuments":{"type":"array","items":{"$ref":"#/components/schemas/FileMetadataResponseDto"}},"categories":{"type":"array","items":{"$ref":"#/components/schemas/OnboardingCategoryDto"}}},"required":["_id","name"]},"UserProfileResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"country":{"$ref":"#/components/schemas/PopulatedLocationDto"},"onboardingStep":{"type":"string","enum":["residential","company_info","product_categories","company_documents","review","complete"]},"onboardingCompleted":{"type":"boolean"},"residentialAddress":{"$ref":"#/components/schemas/ResidentialAddressDto"},"organization":{"$ref":"#/components/schemas/OrganizationDto"}},"required":["_id","firstName","lastName","email","phone"]},"CategoryGroupDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"ProductCategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"type":{"type":"string","enum":["product","service"]},"group":{"$ref":"#/components/schemas/CategoryGroupDto"}},"required":["_id","name"]},"ProductOrganizationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"StateDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"RegionDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"CountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"PopulatedProductLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/StateDto"},"region":{"$ref":"#/components/schemas/RegionDto"},"country":{"$ref":"#/components/schemas/CountryDto"},"address":{"type":"string"}}},"PopulatedProductResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"displayId":{"type":"number","description":"Display ID"},"title":{"type":"string"},"description":{"type":"string"},"category":{"$ref":"#/components/schemas/ProductCategoryDto"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["new","used"]}},"organization":{"$ref":"#/components/schemas/ProductOrganizationDto"},"location":{"$ref":"#/components/schemas/PopulatedProductLocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"isActive":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}}},"required":["_id","displayId","title","pricePerUnit"]},"ProductsPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/PopulatedProductResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedProductsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductsPaginationDataDto"}},"required":["message","data"]},"ProductLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/StateDto"},"region":{"$ref":"#/components/schemas/RegionDto"},"country":{"$ref":"#/components/schemas/CountryDto"},"address":{"type":"string"}}},"ProductResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"displayId":{"type":"number","description":"Display ID"},"title":{"type":"string"},"description":{"type":"string"},"category":{"$ref":"#/components/schemas/ProductCategoryDto"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["new","used"]}},"organization":{"$ref":"#/components/schemas/ProductOrganizationDto"},"location":{"$ref":"#/components/schemas/ProductLocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"isActive":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}}},"required":["_id","displayId","title","pricePerUnit"]},"LocationDto":{"type":"object","properties":{"state":{"type":"string"},"region":{"type":"string"},"country":{"type":"string"},"address":{"type":"string"}}},"CreateProductDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"organization":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"isActive":{"type":"boolean"}},"required":["title","description","category","pricePerUnit"]},"UpdateProductDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"images":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"type":"string"}},"features":{"type":"array","items":{"type":"string"}},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"conditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"organization":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"},"status":{"type":"string","enum":["pending","approved","rejected"]},"transactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"isActive":{"type":"boolean"}}},"CategoryDocumentTemplateDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string"},"name":{"type":"string"},"requiredFrom":{"enum":["BUYER","SELLER"],"type":"string"},"isMandatory":{"type":"boolean"},"requiredAtStatus":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string"}},"required":["type","name","requiredFrom","isMandatory"]},"CategoryComplianceDto":{"type":"object","properties":{"isHazardous":{"type":"boolean"},"isRegulated":{"type":"boolean"},"riskLevel":{"enum":["LOW","MEDIUM","HIGH"],"type":"string"}},"required":["isHazardous","isRegulated","riskLevel"]},"CategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"type":{"enum":["equipment-and-products","services"],"type":"string"},"description":{"type":"string"},"image":{"type":"string"},"allowedUnits":{"type":"array","items":{"type":"string","enum":["kg","ton","lb","liter","gallon","unit","hour","day","month"]}},"supportedConditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"allowedTransactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"requiredDocuments":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDocumentTemplateDto"}},"compliance":{"$ref":"#/components/schemas/CategoryComplianceDto"},"allowedCurrencies":{"type":"array","items":{"type":"string","enum":["NGN","USD","GBP","EUR"]}},"group":{"$ref":"#/components/schemas/CategoryGroupDto"},"isActive":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","name","slug","type","allowedUnits","supportedConditions","allowedTransactionTypes","requiredDocuments","compliance","allowedCurrencies","group","isActive","createdAt","updatedAt"]},"CreateTransactionDto":{"type":"object","properties":{"orderId":{"type":"string","description":"ID of the confirmed order to create a transaction for","example":"60d0fe4f5311236168a109ca"}},"required":["orderId"]},"OrderOrganizationDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"OrderRegionDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"OrderBuyerDto":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}},"required":["_id","firstName","lastName","email"]},"OrderRequestDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"displayId":{"type":"number"},"status":{"type":"string"},"region":{"type":"array","items":{"$ref":"#/components/schemas/OrderRegionDto"}},"targetPricePerUnit":{"type":"number"},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"requester":{"$ref":"#/components/schemas/OrderBuyerDto"}},"required":["_id","name"]},"OrderProductDto":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"pricePerUnit":{"type":"number"},"images":{"type":"array","items":{"type":"string"}}},"required":["_id","title"]},"OrderDocumentDto":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"}},"required":["name","url"]},"OrderStateDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"OrderCountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"}},"required":["_id","name","iso2"]},"OrderLocationDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/OrderStateDto"},"region":{"$ref":"#/components/schemas/OrderRegionDto"},"country":{"$ref":"#/components/schemas/OrderCountryDto"},"address":{"type":"string"}}},"OrderResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"sellerOrganization":{"$ref":"#/components/schemas/OrderOrganizationDto"},"buyerOrganization":{"$ref":"#/components/schemas/OrderOrganizationDto"},"request":{"$ref":"#/components/schemas/OrderRequestDto"},"product":{"$ref":"#/components/schemas/OrderProductDto"},"transactionType":{"type":"string"},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"pricePerUnit":{"type":"number"},"currency":{"type":"string"},"totalAmount":{"type":"number"},"condition":{"type":"string"},"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"sellerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"notes":{"type":"string"},"location":{"$ref":"#/components/schemas/OrderLocationDto"},"status":{"type":"string"},"displayId":{"type":"number"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["_id","request","transactionType","quantity","unitOfMeasurement","pricePerUnit","currency","totalAmount","status","displayId","createdAt","updatedAt"]},"TransactionEventDto":{"type":"object","properties":{"timestamp":{"format":"date-time","type":"string"},"actor":{"type":"string"},"action":{"enum":["CREATED","STATUS_CHANGE","DOCUMENT_UPLOADED","DOCUMENT_REVIEWED","LOGISTICS_UPDATE","NOTE_ADDED","REQUIREMENT_ADDED","REQUIREMENT_UPDATED","REQUIREMENT_DELETED"],"type":"string"},"metadata":{"type":"object"}},"required":["timestamp","action"]},"TransactionDocumentFileDto":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"},"uploader":{"type":"string"},"timestamp":{"format":"date-time","type":"string"}},"required":["name","url","timestamp"]},"TransactionDocumentSlotDto":{"type":"object","properties":{"_id":{"type":"string"},"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string"},"name":{"type":"string"},"requiredFrom":{"type":"string","enum":["BUYER","SELLER"]},"isMandatory":{"type":"boolean"},"submission":{"$ref":"#/components/schemas/TransactionDocumentFileDto"},"status":{"enum":["PENDING","SUBMITTED","APPROVED","REJECTED"],"type":"string"},"rejectionReason":{"type":"string"},"requiredAtStatus":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string"}},"required":["_id","type","name","requiredFrom","isMandatory","status"]},"TransactionTaskActionDto":{"type":"object","properties":{"type":{"type":"string","enum":["navigate","modal"]},"target":{"type":"string"}},"required":["type","target"]},"TransactionTaskDto":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["BLOCKER","INFO"]},"title":{"type":"string"},"description":{"type":"string"},"assignedTo":{"type":"string","enum":["BUYER","SELLER","ADMIN"]},"action":{"$ref":"#/components/schemas/TransactionTaskActionDto"}},"required":["id","type","title","description","assignedTo"]},"TransactionResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"order":{"$ref":"#/components/schemas/OrderResponseDto"},"displayId":{"type":"number"},"status":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string"},"events":{"type":"array","items":{"$ref":"#/components/schemas/TransactionEventDto"}},"requiredDocuments":{"type":"array","items":{"$ref":"#/components/schemas/TransactionDocumentSlotDto"}},"documents":{"type":"object","description":"Documents grouped by stage"},"escrow":{"type":"string"},"assignedLogistics":{"type":"object"},"pendingTasks":{"type":"array","items":{"$ref":"#/components/schemas/TransactionTaskDto"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","order","displayId","status","events","createdAt","updatedAt"]},"UpdateTransactionStatusDto":{"type":"object","properties":{"status":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string","description":"The new status to transition to"},"reason":{"type":"string","description":"Reason for the status change (optional)"}},"required":["status"]},"AddTransactionDocumentDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string","description":"The type of document being uploaded"},"name":{"type":"string","description":"Display name of the document","example":"Bill of Lading"},"url":{"type":"string","format":"uri","description":"URL of the uploaded document","example":"https://s3.aws.com/bucket/file.pdf"},"slotIndex":{"type":"number","description":"Index of the document slot in the requiredDocuments array","example":0}},"required":["type","name","url"]},"AssignLogisticsDto":{"type":"object","properties":{"shippingMethod":{"type":"string","description":"Shipping method used","example":"SEA_FREIGHT"},"carrierName":{"type":"string","description":"Name of the carrier","example":"Maersk"},"vesselName":{"type":"string","description":"Name of the vessel or vehicle","example":"MT Pacific Voyager"},"trackingReference":{"type":"string","description":"Tracking reference number (e.g., Bill of Lading number)","example":"MAEU123456789"},"estimatedDeparture":{"format":"date-time","type":"string","description":"Estimated departure date","example":"2023-11-25T10:00:00Z"},"estimatedArrival":{"format":"date-time","type":"string","description":"Estimated arrival date","example":"2023-12-10T14:30:00Z"}},"required":["shippingMethod","carrierName","trackingReference","estimatedDeparture","estimatedArrival"]},"PurchaseProductDto":{"type":"object","properties":{"productId":{"type":"string","description":"ID of the product to purchase"},"quantity":{"type":"number","minimum":1,"description":"Quantity to purchase"},"unitOfMeasurement":{"type":"string","description":"Unit of measurement"},"notes":{"type":"string","description":"Optional buyer notes"},"transactionType":{"type":"string","description":"Selected transaction type"},"condition":{"type":"string","description":"Selected product condition"},"location":{"type":"object","description":"Optional location override for the order","properties":{"state":{"type":"string"},"region":{"type":"string"},"country":{"type":"string"},"address":{"type":"string"}}},"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}}},"required":["productId","quantity","unitOfMeasurement","transactionType","condition"]},"OrdersPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedOrdersResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrdersPaginationDataDto"}},"required":["message","data"]},"UpdateOrderDto":{"type":"object","properties":{"buyerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"sellerDocuments":{"type":"array","items":{"$ref":"#/components/schemas/OrderDocumentDto"}},"notes":{"type":"string"}}},"RequestCategoryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"group":{"$ref":"#/components/schemas/CategoryGroupDto"},"type":{"type":"string"},"image":{"type":"string"}},"required":["_id","name"]},"RequestCountryDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"iso2":{"type":"string"},"region":{"type":"string"}},"required":["_id","name","iso2","region"]},"RecommendationFeedItemDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"quantity":{"type":"number"},"category":{"$ref":"#/components/schemas/RequestCategoryDto"},"image":{"type":"string"},"region":{"type":"array","items":{"$ref":"#/components/schemas/RegionDto"}},"country":{"type":"array","items":{"$ref":"#/components/schemas/RequestCountryDto"}},"state":{"type":"array","items":{"$ref":"#/components/schemas/StateDto"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"]},"transactionType":{"type":"array","items":{"type":"string"}},"condition":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"displayId":{"type":"number"},"status":{"type":"string"},"createdAt":{"type":"string"},"negotiationId":{"type":"string"}},"required":["_id","name","quantity","category","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType","displayId","status","createdAt"]},"RecommendationFeedDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/RecommendationFeedItemDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"RecommendationFeedResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"ok"},"data":{"$ref":"#/components/schemas/RecommendationFeedDataDto"}},"required":["message","data"]},"SingleRecommendationFeedResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"ok"},"data":{"$ref":"#/components/schemas/RecommendationFeedItemDto"}},"required":["message","data"]},"CreateRequestDto":{"type":"object","properties":{"category":{"type":"string","description":"ID of the category"},"name":{"type":"string"},"quantity":{"type":"number","minimum":1},"region":{"type":"array","items":{"type":"string"}},"country":{"type":"array","items":{"type":"string"}},"state":{"type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"transactionType":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"description":"List of transaction types"},"condition":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"description":"List of product conditions"},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"enum":["open","jira-ai","direct"],"type":"string","default":"open"}},"required":["category","name","quantity","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType"]},"ProductRequest":{"type":"object","properties":{"requester":{"type":"string","description":"User who created the request"},"organization":{"type":"string","description":"Organization of the requester"},"category":{"type":"string","description":"Category of the product"},"name":{"type":"string","description":"Name of the product/request"},"quantity":{"type":"number","description":"Quantity required"},"region":{"description":"List of region IDs","type":"array","items":{"type":"string"}},"country":{"description":"List of country IDs","type":"array","items":{"type":"string"}},"state":{"description":"List of state IDs","type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string","description":"Unit of measurement"},"targetPricePerUnit":{"type":"number","description":"Target price per unit"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"],"description":"Currency code"},"transactionType":{"type":"array","description":"Transaction types","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"condition":{"type":"array","description":"Conditions of the product","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"description":{"type":"string","description":"Description of the request"},"documents":{"default":[],"description":"List of document URLs","type":"array","items":{"type":"string"}},"selectionMode":{"type":"string","enum":["open","jira-ai","direct"],"default":"open","description":"Selection mode"},"status":{"type":"string","enum":["pending","in_review","matched","fulfilled","cancelled"],"default":"pending","description":"Status of the request"},"matchedSeller":{"type":"string","description":"Organization matched as seller for this request"},"displayId":{"type":"number","description":"Display ID","uniqueItems":true}},"required":["requester","organization","category","name","quantity","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType","description","documents","selectionMode","status","displayId"]},"RequesterDto":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}},"required":["_id","firstName","lastName","email"]},"MatchedSellerDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}},"required":["_id","name"]},"RequestResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"quantity":{"type":"number"},"category":{"$ref":"#/components/schemas/RequestCategoryDto"},"requester":{"$ref":"#/components/schemas/RequesterDto"},"region":{"type":"array","items":{"$ref":"#/components/schemas/RegionDto"}},"country":{"type":"array","items":{"$ref":"#/components/schemas/RequestCountryDto"}},"state":{"type":"array","items":{"$ref":"#/components/schemas/StateDto"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"]},"transactionType":{"type":"array","items":{"type":"string"}},"condition":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"type":"string"},"organization":{"$ref":"#/components/schemas/OrganizationDto"},"displayId":{"type":"number"},"status":{"type":"string"},"matchedSeller":{"$ref":"#/components/schemas/MatchedSellerDto"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["_id","name","quantity","category","requester","region","country","state","unitOfMeasurement","targetPricePerUnit","currency","transactionType","documents","selectionMode","organization","displayId","status","createdAt","updatedAt"]},"UpdateRequestDto":{"type":"object","properties":{"category":{"type":"string","description":"ID of the category"},"name":{"type":"string"},"quantity":{"type":"number","minimum":1},"region":{"type":"array","items":{"type":"string"}},"country":{"type":"array","items":{"type":"string"}},"state":{"type":"array","items":{"type":"string"}},"unitOfMeasurement":{"type":"string"},"targetPricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"transactionType":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"description":"List of transaction types"},"condition":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"description":"List of product conditions"},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"enum":["open","jira-ai","direct"],"type":"string","default":"open"},"status":{"enum":["pending","in_review","matched","fulfilled","cancelled"],"type":"string"}}},"CreateNegotiationDto":{"type":"object","properties":{"request":{"type":"string","description":"ID of the ProductRequest being responded to"},"product":{"type":"string","description":"ID of the product being offered"},"pricePerUnit":{"type":"number","minimum":0},"quantity":{"type":"number","minimum":1},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"unitOfMeasurement":{"type":"string"},"transactionType":{"enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"],"type":"string"},"condition":{"enum":["New","Used - Good","Used - Fair","Refurbished"],"type":"string"},"incoterms":{"type":"string"},"paymentTerms":{"type":"string"},"deliveryDate":{"type":"string"},"notes":{"type":"string","description":"Opening message to the buyer"},"expirationHours":{"type":"number","minimum":1,"maximum":168,"description":"Hours until this offer expires (default: 24)","default":24},"responseType":{"enum":["accept","counter_offer"],"type":"string","description":"Whether the seller is accepting all terms or counter-offering"}},"required":["request","pricePerUnit","quantity","currency","unitOfMeasurement","responseType"]},"NegotiationRequestDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"displayId":{"type":"number"},"status":{"type":"string"},"quantity":{"type":"number"},"targetPricePerUnit":{"type":"number"},"currency":{"type":"string"},"unitOfMeasurement":{"type":"string"},"transactionType":{"type":"array","items":{"type":"string"}},"condition":{"type":"array","items":{"type":"string"}}},"required":["_id","name"]},"NegotiationOrganizationDto":{"type":"object","properties":{"name":{"type":"string"},"role":{"type":"string","enum":["buyer","seller"]},"isMine":{"type":"boolean"}},"required":["role","isMine"]},"NegotiationOffer":{"type":"object","properties":{"pricePerUnit":{"type":"number"},"quantity":{"type":"number"},"currency":{"type":"string","enum":["NGN","USD","GBP","EUR"]},"unitOfMeasurement":{"type":"string"},"transactionType":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"condition":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"incoterms":{"type":"string"},"paymentTerms":{"type":"string"},"deliveryDate":{"format":"date-time","type":"string"},"notes":{"type":"string"}},"required":["pricePerUnit","quantity","currency","unitOfMeasurement"]},"NegotiationEntryResponseDto":{"type":"object","properties":{"type":{"type":"string"},"authorName":{"type":"string"},"isMine":{"type":"boolean"},"text":{"type":"string"},"offer":{"$ref":"#/components/schemas/NegotiationOffer"},"createdAt":{"type":"string"}},"required":["type","authorName","isMine","createdAt"]},"NegotiationResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"displayId":{"type":"number"},"request":{"$ref":"#/components/schemas/NegotiationRequestDto"},"product":{"type":"string"},"buyerOrganization":{"$ref":"#/components/schemas/NegotiationOrganizationDto"},"sellerOrganization":{"$ref":"#/components/schemas/NegotiationOrganizationDto"},"pendingOrganization":{"$ref":"#/components/schemas/NegotiationOrganizationDto"},"status":{"type":"string"},"responseType":{"type":"string"},"entries":{"type":"array","items":{"$ref":"#/components/schemas/NegotiationEntryResponseDto"}},"latestOffer":{"$ref":"#/components/schemas/NegotiationOffer"},"latestOfferBy":{"$ref":"#/components/schemas/NegotiationOrganizationDto"},"order":{"type":"string"},"isMyTurn":{"type":"boolean"},"isMine":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"offerExpiresAt":{"type":"string","description":"When the latest offer expires (ISO string)"},"isOfferExpired":{"type":"boolean","description":"Whether the latest offer has expired"}},"required":["_id","displayId","request","buyerOrganization","sellerOrganization","pendingOrganization","status","responseType","entries","isMyTurn","isMine","createdAt","updatedAt","isOfferExpired"]},"NegotiationsPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/NegotiationResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedNegotiationsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/NegotiationsPaginationDataDto"}},"required":["message","data"]},"CounterOfferDto":{"type":"object","properties":{"pricePerUnit":{"type":"number","minimum":0},"quantity":{"type":"number","minimum":1},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"unitOfMeasurement":{"type":"string"},"transactionType":{"enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"],"type":"string"},"condition":{"enum":["New","Used - Good","Used - Fair","Refurbished"],"type":"string"},"incoterms":{"type":"string"},"paymentTerms":{"type":"string"},"deliveryDate":{"type":"string"},"notes":{"type":"string","description":"Message explaining the counter-offer"},"expirationHours":{"type":"number","minimum":1,"maximum":168,"description":"Hours until this offer expires (default: 24)","default":24}},"required":["pricePerUnit","quantity","currency","unitOfMeasurement"]},"SendMessageDto":{"type":"object","properties":{"text":{"type":"string","description":"Text message content"}},"required":["text"]},"OnboardingStatusResponseDto":{"type":"object","properties":{"onboardingStep":{"type":"string","enum":["residential","company_info","product_categories","company_documents","review","complete"]},"onboardingCompleted":{"type":"boolean"},"residentialAddress":{"$ref":"#/components/schemas/ResidentialAddressDto"},"organization":{"$ref":"#/components/schemas/OrganizationDto"}},"required":["onboardingStep","onboardingCompleted"]},"UpdateResidentialAddressDto":{"type":"object","properties":{"houseNumber":{"type":"string"},"streetAddress":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"country":{"type":"string"}},"required":["state","country"]},"UpdateCompanyInfoDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"address":{"$ref":"#/components/schemas/AddressDto"}},"required":["name","address"]},"UpdateProductCategoriesDto":{"type":"object","properties":{"categories":{"description":"Array of Category IDs","type":"array","items":{"type":"string"}}},"required":["categories"]},"FileMetadataDto":{"type":"object","properties":{"url":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"size":{"type":"number"}},"required":["url"]},"UpdateCompanyDocumentsDto":{"type":"object","properties":{"rcNumber":{"type":"string"},"taxId":{"type":"string"},"proofOfResidenceFile":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataDto"}]},"certificateOfIncorporation":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataDto"}]},"memorandum":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/FileMetadataDto"}]},"additionalDocuments":{"type":"array","items":{"$ref":"#/components/schemas/FileMetadataDto"}}},"required":["rcNumber"]},"AdminLoginDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin's email address","format":"email"},"password":{"type":"string","description":"Admin's password","minLength":6}},"required":["email","password"]},"AdminVerifyOtpDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp":{"type":"string","minLength":6,"maxLength":6}},"required":["email","otp"]},"CreateAdminDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin's email address","format":"email"},"password":{"type":"string","description":"Initial password (users should change this later)","minLength":8},"name":{"type":"string","description":"Full name of the admin"},"role":{"type":"string","description":"Role assigned to the admin (e.g. 'super-admin', 'support')"},"department":{"type":"string","description":"Department the admin belongs to"},"permissions":{"description":"List of permissions granted to the admin","type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","description":"Whether the admin account is active"}},"required":["email","password","name","role"]},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","description":"Current password for verification"},"newPassword":{"type":"string","description":"New password (min 8 chars)","minLength":8}},"required":["currentPassword","newPassword"]},"CategoryDocumentTemplateInput":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string"},"name":{"type":"string"},"requiredFrom":{"enum":["BUYER","SELLER"],"type":"string"},"isMandatory":{"type":"boolean"},"requiredAtStatus":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string"}},"required":["type","name","requiredFrom"]},"CategoryComplianceInput":{"type":"object","properties":{"isHazardous":{"type":"boolean"},"isRegulated":{"type":"boolean"},"riskLevel":{"enum":["LOW","MEDIUM","HIGH"],"type":"string"}}},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","example":"Electronics","description":"The name of the category"},"slug":{"type":"string","example":"electronics","description":"URL-friendly slug"},"description":{"type":"string","example":"All electronic devices","description":"Description of the category"},"type":{"enum":["equipment-and-products","services"],"type":"string","example":"equipment-and-products","description":"Type of the category"},"image":{"type":"string","description":"Category image URL"},"allowedUnits":{"type":"array","items":{"type":"string","enum":["kg","ton","lb","liter","gallon","unit","hour","day","month"]}},"supportedConditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"allowedTransactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"requiredDocuments":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDocumentTemplateInput"}},"compliance":{"$ref":"#/components/schemas/CategoryComplianceInput"},"allowedCurrencies":{"type":"array","items":{"type":"string","enum":["NGN","USD","GBP","EUR"]}},"isActive":{"type":"boolean","example":true,"description":"Whether the category is active","default":true}},"required":["name"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","example":"Electronics","description":"The name of the category"},"slug":{"type":"string","example":"electronics","description":"URL-friendly slug"},"description":{"type":"string","example":"All electronic devices","description":"Description of the category"},"type":{"enum":["equipment-and-products","services"],"type":"string","example":"equipment-and-products","description":"Type of the category"},"image":{"type":"string","description":"Category image URL"},"allowedUnits":{"type":"array","items":{"type":"string","enum":["kg","ton","lb","liter","gallon","unit","hour","day","month"]}},"supportedConditions":{"type":"array","items":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]}},"allowedTransactionTypes":{"type":"array","items":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]}},"requiredDocuments":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDocumentTemplateInput"}},"compliance":{"$ref":"#/components/schemas/CategoryComplianceInput"},"allowedCurrencies":{"type":"array","items":{"type":"string","enum":["NGN","USD","GBP","EUR"]}},"isActive":{"type":"boolean","example":true,"description":"Whether the category is active","default":true}}},"PaginatedDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponseDto"}},"totalDocs":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"},"page":{"type":"number"}},"required":["docs","totalDocs","limit","totalPages","page"]},"PaginatedTransactionsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedDataDto"}},"required":["message","data"]},"AddTransactionRequirementDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string","description":"The type of document required"},"name":{"type":"string","description":"Display name of the requirement","example":"Custom Invoice"},"requiredFrom":{"type":"string","description":"Who is required to submit this document","enum":["BUYER","SELLER"],"example":"SELLER"},"isMandatory":{"type":"boolean","description":"Whether this document is mandatory for the transaction to proceed","example":true},"requiredAtStatus":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string","description":"The transaction status at which this document becomes required","example":"INITIATED"}},"required":["type","name","requiredFrom","isMandatory"]},"UpdateTransactionRequirementDto":{"type":"object","properties":{"type":{"enum":["INVOICE","PACKING_LIST","CERTIFICATE_OF_ORIGIN","SAFETY_DATA_SHEET","BILL_OF_LADING","CONTRACT","OTHER"],"type":"string","description":"The type of document required"},"name":{"type":"string","description":"Display name of the requirement","example":"Custom Invoice"},"requiredFrom":{"type":"string","description":"Who is required to submit this document","enum":["BUYER","SELLER"],"example":"SELLER"},"isMandatory":{"type":"boolean","description":"Whether this document is mandatory for the transaction to proceed","example":true},"requiredAtStatus":{"enum":["INITIATED","DOCUMENTS_SUBMITTED","COMPLIANCE_REVIEWED","ESCROW_FUNDED","LOGISTICS_ASSIGNED","IN_TRANSIT","DELIVERY_CONFIRMED","SETTLEMENT_RELEASED","CLOSED"],"type":"string","description":"The transaction status at which this document becomes required","example":"INITIATED"}}},"ReviewTransactionDocumentDto":{"type":"object","properties":{"decision":{"type":"string","enum":["APPROVED","REJECTED"],"description":"Decision to approve or reject the document"},"rejectionReason":{"type":"string","description":"Reason for rejection (required if decision is REJECTED)"}},"required":["decision"]},"AcceptRequestOrderDto":{"type":"object","properties":{"sellerOrganization":{"type":"string","description":"Seller organization ID"},"product":{"type":"string","description":"Matched product ID"},"transactionType":{"enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"],"type":"string"},"quantity":{"type":"number","minimum":1},"unitOfMeasurement":{"type":"string"},"pricePerUnit":{"type":"number","minimum":0},"currency":{"enum":["NGN","USD","GBP","EUR"],"type":"string"},"condition":{"enum":["New","Used - Good","Used - Fair","Refurbished"],"type":"string"},"notes":{"type":"string"}},"required":["sellerOrganization","transactionType","quantity","unitOfMeasurement","pricePerUnit","currency"]},"NotificationResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"type":{"type":"string"},"title":{"type":"string"},"message":{"type":"string"},"isRead":{"type":"boolean"},"readAt":{"type":"string"},"resourceType":{"type":"string"},"resourceId":{"type":"string"},"metadata":{"type":"object"},"createdAt":{"type":"string"}},"required":["_id","type","title","message","isRead","createdAt"]},"NotificationsPaginationDataDto":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/NotificationResponseDto"}},"totalDocs":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["docs","totalDocs","page","limit","totalPages"]},"PaginatedNotificationsResponseDto":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/NotificationsPaginationDataDto"}},"required":["message","data"]},"GeneratePresignedUrlDto":{"type":"object","properties":{"filename":{"type":"string"},"contentType":{"type":"string"}},"required":["filename","contentType"]},"GeneratePresignedUrlsDto":{"type":"object","properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/GeneratePresignedUrlDto"}}},"required":["files"]},"PresignedUrlResponseDto":{"type":"object","properties":{"key":{"type":"string"},"url":{"type":"string","format":"uri"},"publicUrl":{"type":"string","format":"uri"},"filename":{"type":"string"}},"required":["key","url","publicUrl","filename"]}}}}