{"openapi":"3.0.0","info":{"title":"Vesslr","version":"1.0.0","description":"VESSLR API"},"servers":[{"url":"/api/v1"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"Invoice":{"type":"object","properties":{"_id":{"type":"string"},"invoiceNumber":{"type":"string"},"billedFrom":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"billedTo":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"paymentDetails":{"type":"object","properties":{"accountNumber":{"type":"string"},"bankName":{"type":"string"},"accountName":{"type":"string"},"paymentDescription":{"type":"string"}}},"paymentMethod":{"type":"string","enum":["bank_transfer","crypto","escrow","card"]},"items":{"type":"array","items":{"type":"object","properties":{"description":{"type":"string"},"quantity":{"type":"number"},"price":{"type":"number"},"amount":{"type":"number"}}}},"subtotal":{"type":"number"},"discount":{"type":"number"},"vat":{"type":"number"},"totalAmount":{"type":"number"},"currency":{"type":"string"},"issuedOn":{"type":"string","format":"date-time"},"dueOn":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["pending","paid","overdue","cancelled"]},"note":{"type":"string"},"order":{"type":"string"},"createdBy":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}}},"paidBy":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}}},"paidAt":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ProductRequest":{"type":"object","properties":{"_id":{"type":"string"},"requester":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"}}},"category":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}}},"productName":{"type":"string"},"quantity":{"type":"number"},"region":{"type":"string"},"unitOfMeasurement":{"type":"string"},"targetPrice":{"type":"number"},"transactionType":{"type":"string"},"condition":{"type":"string"},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"type":"string"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}},"paths":{"/api/v1/admin":{"post":{"summary":"Create a new admin","description":"This endpoint allows an authenticated admin to create a new admin account.","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}},"example":{"username":"newadmin","email":"newadmin@example.com","password":"password123"}}}}},"responses":{"201":{"description":"Admin created successfully"},"400":{"description":"Validation error"}}},"get":{"summary":"Fetch a list of all admins","description":"This endpoint allows an authenticated admin to fetch all existing admin accounts.","security":[{"ApiKeyAuth":[]}],"responses":{"200":{"description":"Successfully fetched list of admins"},"401":{"description":"Unauthorized access"}}}},"/api/v1/admin/profile":{"get":{"summary":"Fetch the profile of the current admin","description":"This endpoint allows an authenticated admin to fetch their profile information.","security":[{"ApiKeyAuth":[]}],"responses":{"200":{"description":"Successfully fetched admin profile"},"401":{"description":"Unauthorized access"}}},"put":{"summary":"Update the current admin's profile","description":"This endpoint allows an authenticated admin to update their own profile.","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"}},"example":{"username":"updatedadmin","email":"updatedadmin@example.com"}}}}},"responses":{"200":{"description":"Profile updated successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized access"}}}},"/api/v1/admin/change-password":{"post":{"summary":"Change admin password","description":"This endpoint allows an authenticated admin to change their password.","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"type":"string"}},"example":{"currentPassword":"oldpassword123","newPassword":"newpassword123"}}}}},"responses":{"200":{"description":"Password changed successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized access"}}}},"/api/v1/admin/{id}":{"get":{"summary":"Fetch admin by ID","description":"This endpoint allows an authenticated admin to fetch an admin's details by ID.","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the admin to fetch","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully fetched admin by ID"},"401":{"description":"Unauthorized access"},"404":{"description":"Admin not found"}}},"put":{"summary":"Update admin by ID","description":"This endpoint allows an authenticated admin to update another admin's details by ID.","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the admin to update","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"}},"example":{"username":"updatedadmin","email":"updatedadmin@example.com"}}}}},"responses":{"200":{"description":"Admin updated successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized access"}}},"delete":{"summary":"Delete an admin by ID","description":"This endpoint allows an authenticated admin to delete an admin account by ID.","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the admin to delete","schema":{"type":"string"}}],"responses":{"200":{"description":"Admin deleted successfully"},"401":{"description":"Unauthorized access"},"404":{"description":"Admin not found"}}}},"/api/v1/admin/auth/dev-mint-token":{"post":{"summary":"Mint a dev token (non-production only)","description":"Creates a JWT token for development/testing purposes. Only available in non-production environments.","tags":["Admin Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","default":"dev@vesslr.com"}}}}}},"responses":{"200":{"description":"Token minted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"token":{"type":"string"}}}}}},"404":{"description":"Admin not found"}}}},"/api/v1/admin/auth/login":{"post":{"summary":"Admin login","description":"Authenticates an admin user and returns a JWT token.","tags":["Admin Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"token":{"type":"string"},"admin":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}}}}}}}}},"400":{"description":"Email and password are required"},"401":{"description":"Invalid credentials"}}}},"/api/v1/admin/auth/whoami":{"get":{"summary":"Get current admin info","description":"Returns the authenticated admin's information from the JWT token.","tags":["Admin Auth"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Admin info retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/admin/auth/test-email/diag":{"get":{"summary":"Email diagnostics","description":"Returns email configuration diagnostics.","tags":["Admin Auth"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Diagnostics info","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"sender":{"type":"string","nullable":true},"hasKey":{"type":"boolean"},"apiKeyLooksValid":{"type":"boolean"}}}}}}}}},"/api/v1/admin/auth/test-email/raw":{"post":{"summary":"Raw SendGrid test","description":"Sends a raw test email via SendGrid.","tags":["Admin Auth"],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"to":{"type":"string","format":"email"}}}}}},"responses":{"200":{"description":"Email sent status","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"status":{"type":"integer"}}}}}},"400":{"description":"Missing 'to' address"},"500":{"description":"SendGrid error or configuration issue"}}}},"/api/v1/admin/auth/test-email":{"post":{"summary":"Formatted email test","description":"Sends a formatted test email.","tags":["Admin Auth"],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"to":{"type":"string","format":"email"}}}}}},"responses":{"200":{"description":"Email sent status","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}}}}}},"400":{"description":"Missing recipient"}}}},"/api/v1/admin/categories":{"get":{"summary":"List all categories","description":"Fetches all product categories with product counts.","tags":["Admin Categories"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of categories","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"image":{"type":"string"},"productCount":{"type":"integer","description":"Number of products in this category"}}}}}}}}},"401":{"description":"Unauthorized"}}},"post":{"summary":"Create a category","description":"Creates a new product category.","tags":["Admin Categories"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}}}}},"responses":{"201":{"description":"Category created","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}}}}}}},"400":{"description":"Name is required"},"401":{"description":"Unauthorized"},"409":{"description":"Category already exists"}}}},"/api/v1/admin/categories/{id}":{"put":{"summary":"Update a category","description":"Updates an existing category by ID.","tags":["Admin Categories"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"Category ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}}}}},"responses":{"200":{"description":"Category updated","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}}}}}}},"400":{"description":"Name is required"},"401":{"description":"Unauthorized"},"404":{"description":"Category not found"}}},"delete":{"summary":"Delete a category","description":"Deletes a category by ID.","tags":["Admin Categories"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"Category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Category deleted","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Category not found"}}}},"/api/v1/admin/orders":{"get":{"summary":"List all orders","description":"Fetches a paginated list of all orders for admin management.","tags":["Admin Orders"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"Items per page (max 100)","schema":{"type":"integer","default":10,"maximum":100}}],"responses":{"200":{"description":"List of orders","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"product":{"type":"object"},"buyer":{"type":"object"},"seller":{"type":"object"},"quantity":{"type":"number"},"totalPrice":{"type":"number"},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"totalDocs":{"type":"integer"},"page":{"type":"integer"},"limit":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/admin/orders/{id}/status":{"patch":{"summary":"Update order status","description":"Updates the status of an order.","tags":["Admin Orders"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["pending","paid","shipped","completed","cancelled"]}}}}}},"responses":{"200":{"description":"Order status updated","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"status":{"type":"string"}}}}}}}},"400":{"description":"Invalid status","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"allowed":{"type":"array","items":{"type":"string"}}}}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Order not found"}}}},"/api/v1/admin/users":{"get":{"summary":"List all users","description":"Fetches a paginated list of all users.","tags":["Admin Users"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"Items per page","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"List of users","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"emailVerified":{"type":"boolean"},"phoneNumber":{"type":"string"},"type":{"type":"string","enum":["customer","merchant"]},"onboardingStep":{"type":"string","enum":["residential","company_info","company_documents","review","complete"]},"onboardingCompleted":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"totalDocs":{"type":"integer"},"page":{"type":"integer"},"limit":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/data/countries":{"get":{"summary":"Get all countries","description":"Fetch a list of all countries.","responses":{"200":{"description":"List of countries"},"500":{"description":"Internal server error"}}}},"/api/v1/data/states":{"get":{"summary":"Get all states","description":"Fetch a list of all states in a country (requires country parameter).","parameters":[{"name":"country","in":"query","required":true,"description":"The country to get states for","schema":{"type":"string"}}],"responses":{"200":{"description":"List of states"},"400":{"description":"Bad request (missing or invalid country)"},"500":{"description":"Internal server error"}}}},"/api/v1/data/states/all":{"get":{"summary":"Get all states for a country (non-paginated)","description":"Fetch all states for a country without pagination. Useful for dropdown menus.","parameters":[{"name":"countryCode","in":"query","required":true,"description":"ISO2 country code (e.g., NG for Nigeria)","schema":{"type":"string"}}],"responses":{"200":{"description":"List of all states"},"400":{"description":"Missing countryCode parameter"},"500":{"description":"Internal server error"}}}},"/api/v1/data/cities/all":{"get":{"summary":"Get all cities for a state (non-paginated)","description":"Fetch all cities for a state without pagination. Useful for dropdown menus.","parameters":[{"name":"stateCode","in":"query","required":true,"description":"ISO2 state code","schema":{"type":"string"}},{"name":"countryCode","in":"query","required":true,"description":"ISO2 country code (e.g., NG for Nigeria)","schema":{"type":"string"}}],"responses":{"200":{"description":"List of all cities"},"400":{"description":"Missing stateCode or countryCode parameter"},"500":{"description":"Internal server error"}}}},"/api/v1/upload":{"post":{"summary":"Uploads a file and returns its URL.","description":"Accepts a file from the request and uploads it to either local storage or S3, returning the file URL.","tags":["File Upload"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"file","type":"file","required":true,"description":"The file to upload."}],"responses":{"200":{"description":"File uploaded successfully.","schema":{"type":"object","properties":{"status":{"type":"string","example":"success"},"message":{"type":"string","example":"File uploaded successfully"},"data":{"type":"object","properties":{"fileUrl":{"type":"string","example":"https://your-s3-bucket.s3.amazonaws.com/uploads/filename.jpg"}}}}}},"400":{"description":"No file uploaded."},"500":{"description":"Server error."}}}},"/api/v1/invoices":{"post":{"summary":"Create a new invoice","description":"Create a new invoice, optionally linked to an order.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["billedFrom","billedTo","items","dueOn"],"properties":{"billedFrom":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"billedTo":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"paymentDetails":{"type":"object","properties":{"accountNumber":{"type":"string"},"bankName":{"type":"string"},"accountName":{"type":"string"},"paymentDescription":{"type":"string"}}},"paymentMethod":{"type":"string","enum":["bank_transfer","crypto","escrow","card"],"default":"bank_transfer"},"items":{"type":"array","items":{"type":"object","properties":{"description":{"type":"string"},"quantity":{"type":"number"},"price":{"type":"number"},"amount":{"type":"number"}}}},"discount":{"type":"number"},"vat":{"type":"number"},"currency":{"type":"string","default":"NGN"},"dueOn":{"type":"string","format":"date-time"},"note":{"type":"string"},"order":{"type":"string","description":"Order ID to link this invoice to"}}}}}},"responses":{"201":{"description":"Invoice created","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Invoice"}}}}}}}},"get":{"summary":"List invoices","description":"Get a paginated list of invoices.","security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"List of invoices","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/Invoice"}},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"},"page":{"type":"integer"},"limit":{"type":"integer"}}}}}}}}}}},"/api/v1/invoices/{id}":{"get":{"summary":"Get a single invoice","description":"Get invoice by ID.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Invoice details","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Invoice"}}}}}},"404":{"description":"Invoice not found"}}},"put":{"summary":"Update an invoice","description":"Update invoice details. Cannot update paid invoices.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"billedFrom":{"type":"object"},"billedTo":{"type":"object"},"paymentDetails":{"type":"object"},"paymentMethod":{"type":"string"},"items":{"type":"array"},"discount":{"type":"number"},"vat":{"type":"number"},"currency":{"type":"string"},"dueOn":{"type":"string"},"note":{"type":"string"}}}}}},"responses":{"200":{"description":"Invoice updated","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Invoice"}}}}}},"400":{"description":"Cannot update paid invoice"},"404":{"description":"Invoice not found"}}},"delete":{"summary":"Delete an invoice","description":"Delete an invoice. Cannot delete paid invoices.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Invoice deleted"},"400":{"description":"Cannot delete paid invoice"},"404":{"description":"Invoice not found"}}}},"/api/v1/invoices/{id}/pay":{"patch":{"summary":"Mark invoice as paid","description":"Mark an invoice as paid by the current user.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Invoice marked as paid","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Invoice"}}}}}},"400":{"description":"Invoice already paid or cancelled"},"404":{"description":"Invoice not found"}}}},"/api/v1/user/onboarding":{"get":{"summary":"Get onboarding status","description":"Returns the current onboarding step and all submitted onboarding data.","tags":["User Onboarding"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Onboarding status retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"onboardingStep":{"type":"string","enum":["residential","company_info","company_documents","review","complete"],"description":"Current onboarding step"},"onboardingCompleted":{"type":"boolean","description":"Whether onboarding is complete"},"country":{"type":"object","description":"User's country"},"residentialAddress":{"type":"object","properties":{"houseNumber":{"type":"string"},"street":{"type":"string"},"state":{"type":"string"},"city":{"type":"string"}}},"companyName":{"type":"string"},"companyDescription":{"type":"string"},"companyAddress":{"type":"object","properties":{"houseNumber":{"type":"string"},"street":{"type":"string"},"state":{"type":"string"},"city":{"type":"string"}}},"companyRCNumber":{"type":"string"},"companyTaxIdentificationNumber":{"type":"string"},"companyProofOfResidenceFile":{"type":"string"}}}}}}}},"401":{"description":"Unauthorized - invalid or missing token"},"404":{"description":"User not found"}}}},"/api/v1/user/onboarding/residential":{"put":{"summary":"Save residential address","description":"Saves the user's residential address and advances onboarding to the company_info step.","tags":["User Onboarding"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["houseNumber","street","state","city"],"properties":{"houseNumber":{"type":"string","description":"House number"},"street":{"type":"string","description":"Street name"},"state":{"type":"string","description":"State"},"city":{"type":"string","description":"City"}}}}}},"responses":{"200":{"description":"Residential address saved successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/api/v1/user/onboarding/company-info":{"put":{"summary":"Save company information","description":"Saves company information and advances onboarding to the company_documents step.","tags":["User Onboarding"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["companyName","companyAddress"],"properties":{"companyName":{"type":"string","description":"Company name"},"companyDescription":{"type":"string","description":"Company description (optional)"},"companyAddress":{"type":"object","required":["houseNumber","street","state","city"],"properties":{"houseNumber":{"type":"string"},"street":{"type":"string"},"state":{"type":"string"},"city":{"type":"string"}}}}}}}},"responses":{"200":{"description":"Company information saved successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/api/v1/user/onboarding/company-documents":{"put":{"summary":"Save company documents","description":"Saves company documents (RC number, Tax ID) and advances onboarding to the review step.","tags":["User Onboarding"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["companyRCNumber","companyTaxIdentificationNumber"],"properties":{"companyRCNumber":{"type":"string","description":"Company RC number"},"companyTaxIdentificationNumber":{"type":"string","description":"Tax Identification Number"},"companyProofOfResidenceFile":{"type":"string","description":"URL to proof of residence file (optional)"}}}}}},"responses":{"200":{"description":"Company documents saved successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/api/v1/user/onboarding/complete":{"post":{"summary":"Complete onboarding","description":"Marks the user's onboarding as complete.","tags":["User Onboarding"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Onboarding completed successfully"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/api/v1/products":{"post":{"summary":"Create a new product","description":"Allows a user to create a new product.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["title","category","description","price","image","availableQuantity","unitOfMeasurement","condition"],"properties":{"title":{"type":"string"},"category":{"type":"string","description":"Category ID"},"description":{"type":"string"},"features":{"type":"array","items":{"type":"string"}},"price":{"type":"number"},"image":{"type":"string"},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"condition":{"type":"string","enum":["new","used"]},"documents":{"type":"array","items":{"type":"string"}}}}}}},"responses":{"201":{"description":"Product created successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"}}},"get":{"summary":"Get all products","description":"Fetch a list of all products.","parameters":[{"name":"category","in":"query","description":"Filter products by category ID","schema":{"type":"string"}},{"name":"page","in":"query","description":"Page number for pagination","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"Number of items per page","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"List of products","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"category":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}},"description":{"type":"string"},"features":{"type":"array","items":{"type":"string"}},"price":{"type":"number"},"image":{"type":"string"},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"currency":{"type":"string"},"condition":{"type":"string","enum":["new","used"]},"seller":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"page":{"type":"integer"},"limit":{"type":"integer"},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"}}}}}}}},"500":{"description":"Internal server error"}}}},"/api/v1/products/category":{"get":{"summary":"Get products by category","description":"Fetch a list of products filtered by category.","parameters":[{"name":"category","in":"query","description":"Category to filter by","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of products by category","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"},"image":{"type":"string"}}}}}}}}},"400":{"description":"Bad request"},"500":{"description":"Internal server error"}}}},"/api/v1/products/mine":{"get":{"summary":"Get the user's products","description":"Fetch the list of products owned by the currently authenticated user.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of user's products","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"},"image":{"type":"string"}}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/products/{id}":{"get":{"summary":"Get a product by ID","description":"Fetch a single product by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the product","schema":{"type":"string"}}],"responses":{"200":{"description":"Product details","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"category":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}},"description":{"type":"string"},"features":{"type":"array","items":{"type":"string"}},"price":{"type":"number"},"image":{"type":"string"},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"currency":{"type":"string"},"condition":{"type":"string","enum":["new","used"]},"documents":{"type":"array","items":{"type":"string"}},"seller":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"404":{"description":"Product not found"},"500":{"description":"Internal server error"}}},"put":{"summary":"Update a product by ID","description":"Update product details by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the product","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"category":{"type":"string","description":"Category ID"},"description":{"type":"string"},"features":{"type":"array","items":{"type":"string"}},"price":{"type":"number"},"image":{"type":"string"},"availableQuantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"condition":{"type":"string","enum":["new","used"]},"documents":{"type":"array","items":{"type":"string"}}}}}}},"responses":{"200":{"description":"Product updated successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"},"404":{"description":"Product not found"}}},"delete":{"summary":"Delete a product by ID","description":"Delete a product by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the product","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Product deleted successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Product not found"}}}},"/api/v1/categories":{"post":{"summary":"Create a new category","description":"Allows an admin to create a new category.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the category"},"image":{"type":"string","description":"URL to category image (optional)"}}}}}},"responses":{"201":{"description":"Category created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}}}}}}},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"}}},"get":{"summary":"Get all categories","description":"Fetch a list of all product categories.","responses":{"200":{"description":"List of categories","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"image":{"type":"string"}}}},"page":{"type":"integer"},"limit":{"type":"integer"},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"}}}}}}}},"500":{"description":"Internal server error"}}}},"/api/v1/categories/{id}":{"get":{"summary":"Get category by ID","description":"Fetch a category by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the category","schema":{"type":"string"}}],"responses":{"200":{"description":"Category details","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"image":{"type":"string"}}}}}}}},"404":{"description":"Category not found"},"500":{"description":"Internal server error"}}},"put":{"summary":"Update a category by ID","description":"Update a category by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the category","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Category updated successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"},"404":{"description":"Category not found"}}},"delete":{"summary":"Delete a category by ID","description":"Delete a category by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the category","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Category deleted successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Category not found"}}}},"/api/v1/orders":{"post":{"summary":"Create a new order","description":"Allows a user to create a new order.","security":[{"bearerAuth":[]}],"responses":{"201":{"description":"Order created successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"}}},"get":{"summary":"Get all orders","description":"Fetch a list of all orders for the currently authenticated user.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of orders","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"product":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"}}},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"totalPrice":{"type":"number"},"currency":{"type":"string"},"status":{"type":"string","enum":["initiated","documents_submitted","compliance_review","escrow_funded","logistics_assigned","in_transit","delivery_confirmed","settlement_released","closed","disputed","cancelled"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"page":{"type":"integer"},"limit":{"type":"integer"},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/orders/mine":{"get":{"summary":"Get the user's orders","description":"Fetch the list of orders for the currently authenticated user.","security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","schema":{"type":"integer"}},{"name":"limit","in":"query","schema":{"type":"integer"}}],"responses":{"200":{"description":"List of user's orders","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"product":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"}}},"productRequest":{"type":"object","properties":{"_id":{"type":"string"},"transactionType":{"type":"string"},"region":{"type":"string"},"targetPrice":{"type":"number"},"category":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"}}}}},"quantity":{"type":"number"},"totalPrice":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["initiated","documents_submitted","compliance_review","escrow_funded","logistics_assigned","in_transit","delivery_confirmed","settlement_released","closed","disputed","cancelled"]}}}},"page":{"type":"integer"},"limit":{"type":"integer"},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/orders/{id}":{"get":{"summary":"Get order by ID","description":"Fetch a single order by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the order","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order details","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"product":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number"}}},"seller":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"}}},"buyer":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"}}},"quantity":{"type":"number"},"unitOfMeasurement":{"type":"string"},"totalPrice":{"type":"number"},"currency":{"type":"string"},"status":{"type":"string","enum":["initiated","documents_submitted","compliance_review","escrow_funded","logistics_assigned","in_transit","delivery_confirmed","settlement_released","closed","disputed","cancelled"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"404":{"description":"Order not found"},"500":{"description":"Internal server error"}}},"put":{"summary":"Update an order by ID","description":"Update order details by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the order","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order updated successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"},"404":{"description":"Order not found"}}},"delete":{"summary":"Delete an order by ID","description":"Delete an order by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the order","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order deleted successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Order not found"}}}},"/api/v1/requests":{"post":{"summary":"Create a new product request","description":"Create a new request for a product.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["category","quantity","region","unitOfMeasurement","targetPrice","transactionType","condition","selectionMode"],"properties":{"category":{"type":"string","description":"ID of the category"},"productName":{"type":"string"},"quantity":{"type":"number"},"region":{"type":"string"},"unitOfMeasurement":{"type":"string"},"targetPrice":{"type":"number"},"transactionType":{"type":"string","enum":["Purchase","Lease","Charter","Bulk Supply","Spot Trade"]},"condition":{"type":"string","enum":["New","Used - Good","Used - Fair","Refurbished"]},"description":{"type":"string"},"documents":{"type":"array","items":{"type":"string"}},"selectionMode":{"type":"string","enum":["open","jira-ai"]}}}}}},"responses":{"201":{"description":"Product request created","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductRequest"}}}}}}}},"get":{"summary":"List product requests","description":"get all.","security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"List of product requests","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"$ref":"#/components/schemas/ProductRequest"}},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"},"page":{"type":"integer"},"limit":{"type":"integer"}}}}}}}}}}},"/api/v1/requests/{id}":{"get":{"summary":"Get a single product request","description":"Get by ID.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Product request details","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductRequest"}}}}}},"404":{"description":"Product request not found"}}}},"/api/v1/requests/{id}/status":{"patch":{"summary":"Update request status","description":"Update the status of a product request.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["pending","in_review","matched","fulfilled","cancelled"]}}}}}},"responses":{"200":{"description":"Status updated","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductRequest"}}}}}}}}},"/api/v1/requests/{id}/accept":{"post":{"summary":"Accept a product request","description":"Seller accepts a buyer's product request, creating an order.","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"201":{"description":"Request accepted, order created","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"order":{"type":"object","properties":{"_id":{"type":"string"},"productRequest":{"type":"string"},"buyer":{"type":"string"},"seller":{"type":"string"},"totalPrice":{"type":"number"},"status":{"type":"string"}}},"request":{"$ref":"#/components/schemas/ProductRequest"}}}}}}}},"400":{"description":"Request cannot be accepted or self-acceptance"},"403":{"description":"Only sellers can accept requests"},"404":{"description":"Product request not found"}}}},"/register":{"post":{"summary":"Register a new user","description":"Allows a new user to register with a username and password.","tags":["User Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"}}}}}},"responses":{"201":{"description":"Successfully registered the user"},"400":{"description":"Bad request or validation error"},"409":{"description":"Conflict - email already exists"}}}},"/login":{"post":{"summary":"Login a user","description":"Authenticates a user and returns a token.","tags":["User Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Successfully logged in"},"401":{"description":"Unauthorized - invalid credentials"}}}},"/send-password-reset":{"post":{"summary":"Send a password reset link","description":"Sends a password reset link to the user's email.","tags":["User Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"}}}}}},"responses":{"200":{"description":"Password reset link sent successfully"},"400":{"description":"Invalid email or bad request"}}}},"/password-reset":{"post":{"summary":"Reset the user's password","description":"Allows the user to reset their password with a valid token.","tags":["User Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"newPassword":{"type":"string"}}}}}},"responses":{"200":{"description":"Password reset successfully"},"400":{"description":"Invalid token or bad request"}}}},"/verify-email/{token}":{"get":{"summary":"Verify user's email","description":"Verifies the user's email address using the provided token.","tags":["User Authentication"],"parameters":[{"in":"path","name":"token","required":true,"description":"The verification token sent to the user's email.","schema":{"type":"string"}}],"responses":{"200":{"description":"Email verified successfully"},"400":{"description":"Invalid or expired token"}}}},"/send-verification-email":{"get":{"summary":"Send a new email verification link","description":"Sends a new verification email to the user if not yet verified.","tags":["User Authentication"],"responses":{"200":{"description":"Verification email sent successfully"},"400":{"description":"Bad request"}}}},"/verify-otp":{"post":{"summary":"Verify OTP and complete login","description":"Validates the 6-digit OTP sent to user's email and returns a JWT token.","tags":["User Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"otp":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful, returns JWT token"},"400":{"description":"Invalid or expired OTP"},"404":{"description":"User not found"}}}},"/api/v1/vendors":{"post":{"summary":"Create a new vendor profile","description":"Allows a merchant user to create their vendor profile.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["businessName"],"properties":{"businessName":{"type":"string","description":"Name of the business"},"businessEmail":{"type":"string","format":"email","description":"Business email address"},"businessPhone":{"type":"string","description":"Business phone number"},"description":{"type":"string","description":"Business description"},"logo":{"type":"string","description":"URL to business logo"},"banner":{"type":"string","description":"URL to business banner"},"socials":{"type":"object","properties":{"website":{"type":"string"},"linkedin":{"type":"string"},"twitter":{"type":"string"},"instagram":{"type":"string"}}},"bankAccounts":{"type":"array","items":{"type":"object","properties":{"bankName":{"type":"string"},"accountNumber":{"type":"string"},"accountName":{"type":"string"},"currency":{"type":"string"},"isDefault":{"type":"boolean"}}}}}}}}},"responses":{"201":{"description":"Vendor created successfully"},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"}}},"get":{"summary":"Get all vendors","description":"Fetch a paginated list of all vendors.","security":[{"bearerAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number","schema":{"type":"integer","default":1}},{"name":"limit","in":"query","description":"Items per page","schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"Paginated list of vendors","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"docs":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string"},"businessName":{"type":"string"},"businessEmail":{"type":"string"},"businessPhone":{"type":"string"},"description":{"type":"string"},"verificationStatus":{"type":"string","enum":["unverified","pending","verified","rejected","blacklisted"]},"trustScore":{"type":"number"},"rating":{"type":"number"},"user":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"bankAccounts":{"type":"array","items":{"type":"object","properties":{"bankName":{"type":"string"},"accountNumber":{"type":"string"},"accountName":{"type":"string"},"currency":{"type":"string"},"isDefault":{"type":"boolean"}}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"page":{"type":"integer"},"limit":{"type":"integer"},"totalDocs":{"type":"integer"},"totalPages":{"type":"integer"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"nextPage":{"type":"integer","nullable":true},"previousPage":{"type":"integer","nullable":true}}}}}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/vendors/{id}":{"get":{"summary":"Get a vendor by ID","description":"Fetch a single vendor by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the vendor","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Vendor details","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"_id":{"type":"string"},"businessName":{"type":"string"},"businessEmail":{"type":"string"},"businessPhone":{"type":"string"},"description":{"type":"string"},"logo":{"type":"string"},"banner":{"type":"string"},"verificationStatus":{"type":"string","enum":["unverified","pending","verified","rejected","blacklisted"]},"trustScore":{"type":"number"},"rating":{"type":"number"},"user":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"bankAccounts":{"type":"array","items":{"type":"object","properties":{"bankName":{"type":"string"},"accountNumber":{"type":"string"},"accountName":{"type":"string"},"currency":{"type":"string"},"isDefault":{"type":"boolean"}}}},"socials":{"type":"object","properties":{"website":{"type":"string"},"linkedin":{"type":"string"},"twitter":{"type":"string"},"instagram":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"404":{"description":"Vendor not found"}}},"put":{"summary":"Update a vendor by ID","description":"Update vendor details by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the vendor","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"businessName":{"type":"string","description":"Name of the business"},"businessEmail":{"type":"string","format":"email","description":"Business email address"},"businessPhone":{"type":"string","description":"Business phone number"},"description":{"type":"string","description":"Business description"},"logo":{"type":"string","description":"URL to business logo"},"banner":{"type":"string","description":"URL to business banner"},"socials":{"type":"object","properties":{"website":{"type":"string"},"linkedin":{"type":"string"},"twitter":{"type":"string"},"instagram":{"type":"string"}}},"bankAccounts":{"type":"array","items":{"type":"object","properties":{"bankName":{"type":"string"},"accountNumber":{"type":"string"},"accountName":{"type":"string"},"currency":{"type":"string"},"isDefault":{"type":"boolean"}}}}}}}}},"responses":{"200":{"description":"Vendor updated successfully"},"400":{"description":"Bad request"},"404":{"description":"Vendor not found"}}},"delete":{"summary":"Delete a vendor by ID","description":"Delete a vendor by its ID.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the vendor","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Vendor deleted successfully"},"404":{"description":"Vendor not found"}}}},"/api/v1/vendors/{id}/payments":{"post":{"summary":"Make a payment to a vendor","description":"Record a payment to a vendor.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the vendor","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number"},"description":{"type":"string"},"currency":{"type":"string"}}}}}},"responses":{"201":{"description":"Payment recorded successfully"},"400":{"description":"Bad request"}}},"get":{"summary":"Get payment history for a vendor","description":"Fetch all payments made to a vendor.","parameters":[{"name":"id","in":"path","required":true,"description":"The ID of the vendor","schema":{"type":"string"}}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of payments"}}}}},"tags":[]}